<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>FreeBusAVR: include/fb_prot.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>include/fb_prot.h File Reference</h1>
<p>Define the protocol specific definitions Implementation of the communication protocol.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="fb_8h_source.html">fb.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="msg__queue_8h_source.html">msg_queue.h</a>&quot;</code><br/>
<div class="dynheader">
Include dependency graph for fb_prot.h:</div>
<div class="dynsection">
<div class="center"><img src="fb__prot_8h__incl.png" border="0" usemap="#include_2fb__prot_8h_map" alt=""/></div>
<map name="include_2fb__prot_8h_map" id="include_2fb__prot_8h">
<area shape="rect" id="node3" href="fb_8h.html" title="Define general values used in bus communication." alt="" coords="5,83,48,112"/><area shape="rect" id="node5" href="msg__queue_8h.html" title="Definitions for the message queue system used for telegrams and communucation like..." alt="" coords="72,83,171,112"/><area shape="rect" id="node7" href="fb__hardware_8h.html" title="Hardware specific options which includes the platforms (like ATmega8, ATmega168...." alt="" coords="71,160,172,189"/></map>
</div>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<div class="center"><img src="fb__prot_8h__dep__incl.png" border="0" usemap="#include_2fb__prot_8hdep_map" alt=""/></div>
<map name="include_2fb__prot_8hdep_map" id="include_2fb__prot_8hdep">
<area shape="rect" id="node3" href="fb__2-dimmer__app_8c.html" title="Dimmer application based on the Gira 1032 2 channel dimmer." alt="" coords="5,83,219,112"/><area shape="rect" id="node5" href="fb__in8__app_8c.html" title="The application for 8 binary inputs Manufactorer code is 0x04 = Jung &#160;Device type..." alt="" coords="243,83,387,112"/><area shape="rect" id="node7" href="fb__relais__app_8c.html" title="The relais application to switch 8 relais Manufactorer code is 0x04 = Jung &#160;Device..." alt="" coords="411,83,576,112"/><area shape="rect" id="node9" href="fb__hal_8c.html" title="Freebus Hardware Layer. Implementation of a software&#45; uart + timer handling This..." alt="" coords="600,83,683,112"/><area shape="rect" id="node11" href="fb__prot_8c.html" title="Handle all requests which are EIB bases like write current address or group address..." alt="" coords="707,83,795,112"/></map>
</div>

<p><a href="fb__prot_8h_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgrp__addr__s.html">grp_addr_s</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure for the group addresses.  <a href="structgrp__addr__s.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfbus__hdr.html">fbus_hdr</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Structure of the EIB header for each telegram.  <a href="structfbus__hdr.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a29408eae2e883361a4f9d07dd1a31dda">PROT_EXT</a>&nbsp;&nbsp;&nbsp;extern</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set PROT_EXT to extern to make clear it is include from an external source like a lib.  <a href="#a29408eae2e883361a4f9d07dd1a31dda"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ad3eeeec6928d8e01d4e50263599f0ddc">MSG_PRIO_SYSTEM</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mesage priority is system (highest priority, configuration and management).  <a href="#ad3eeeec6928d8e01d4e50263599f0ddc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#afe126fa57663b84e7bfcf4da0367fafa">MSG_PRIO_ALARM</a>&nbsp;&nbsp;&nbsp;(1&lt;&lt;1)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mesage priority is alarm (interface time 20-22ms).  <a href="#afe126fa57663b84e7bfcf4da0367fafa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#aba9c11cb037d1672c01937236af69ce8">MSG_PRIO_HIGH</a>&nbsp;&nbsp;&nbsp;(1&lt;&lt;0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mesage priority is high (interface time &gt; 22ms).  <a href="#aba9c11cb037d1672c01937236af69ce8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#aebf89ae9b8d561bbc4c13ab2e62b4593">MSG_PRIO_LOW</a>&nbsp;&nbsp;&nbsp;(1&lt;&lt;1 | 1&lt;&lt;0)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mesage priority is low (interface time &gt; 25ms).  <a href="#aebf89ae9b8d561bbc4c13ab2e62b4593"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ac5fd1b23eda91ae73eb2b5ce6efd6e97">MSG_MASK</a>&nbsp;&nbsp;&nbsp;0xC</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mask for the message priority.  <a href="#ac5fd1b23eda91ae73eb2b5ce6efd6e97"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ad331ea80e37048c176ce596bb3d50629">T_BROADCAST_DATA</a>&nbsp;&nbsp;&nbsp;0x8000</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A broadcast telegram.  <a href="#ad331ea80e37048c176ce596bb3d50629"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a297dc1f48a8a663935fd48fcee8c464e">T_BROADCAST_DATA_MASK</a>&nbsp;&nbsp;&nbsp;0x80FC</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mask for the broadcast telegram.  <a href="#a297dc1f48a8a663935fd48fcee8c464e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a8c22ae32379fbc042fdfa61e1532a5b6">T_CONNECT_REQ</a>&nbsp;&nbsp;&nbsp;0x0080</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A connect request.  <a href="#a8c22ae32379fbc042fdfa61e1532a5b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a1a2d34c9f5064c66717557b70def8bd7">T_CONNECT_REQ_MASK</a>&nbsp;&nbsp;&nbsp;0x80FF</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mask for the connect request.  <a href="#a1a2d34c9f5064c66717557b70def8bd7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a301dc9d6faf968b6037d221545281b34">T_DISCONNECT_REQ</a>&nbsp;&nbsp;&nbsp;0x0081</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A disconnect request.  <a href="#a301dc9d6faf968b6037d221545281b34"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a0383d85348bb259849f7258ace9ab7db">T_DISCONNECT_REQ_MASK</a>&nbsp;&nbsp;&nbsp;0x80FF</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Mask for the disconnect request.  <a href="#a0383d85348bb259849f7258ace9ab7db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a4387d307ddd85f212101a3030f065055">PROGRAMMING_MODE</a>&nbsp;&nbsp;&nbsp;0x81</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">value for programming mode  <a href="#a4387d307ddd85f212101a3030f065055"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a27f411c6f6ed4d6c2a28431c95ff74f7">MONITOR_MODE</a>&nbsp;&nbsp;&nbsp;0x90</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">value for bus monitor mode  <a href="#a27f411c6f6ed4d6c2a28431c95ff74f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a72963ecc3913cf18cbf3e1fc4b6459aa">LINK_MODE</a>&nbsp;&nbsp;&nbsp;0x12</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">value for link layer mode  <a href="#a72963ecc3913cf18cbf3e1fc4b6459aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a2f04db4a89579a520b3d1fc9f3c60826">TRANSPORT_MODE</a>&nbsp;&nbsp;&nbsp;0x96</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">value for transport layer mode  <a href="#a2f04db4a89579a520b3d1fc9f3c60826"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a0382d86cb87eafac4f60d02590d469b4">APPLICATION_MODE</a>&nbsp;&nbsp;&nbsp;0x1E</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">value for application layer mode  <a href="#a0382d86cb87eafac4f60d02590d469b4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a9a3de7c5e89b21dec1c78d77c43d8fe9">RESET_MODE</a>&nbsp;&nbsp;&nbsp;0xC0</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">value for reset  <a href="#a9a3de7c5e89b21dec1c78d77c43d8fe9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a27e2dbb193fe9e6cfbf74e9103117fcf">BASE_ADDRESS_OFFSET</a>&nbsp;&nbsp;&nbsp;0x0100</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Offset in BCU1 EEPROM.  <a href="#a27e2dbb193fe9e6cfbf74e9103117fcf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ae746267372f4ff3cfcb5a695ab0393e4">MANUFACTORER_ADR_LOW</a>&nbsp;&nbsp;&nbsp;0x0104</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a314a39a5464c93e57b4b7f8404e620d7">MANUFACTORER_ADR</a>&nbsp;&nbsp;&nbsp;0x0104</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Low address for manufactorer id.  <a href="#a314a39a5464c93e57b4b7f8404e620d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a559201e80166d584f01e50012b4f4f8e">DEVICE_NUMBER_HIGH</a>&nbsp;&nbsp;&nbsp;0x0105</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">High address for device id.  <a href="#a559201e80166d584f01e50012b4f4f8e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ae8a1cdab4aadd52e37f3e362f096dedb">DEVICE_NUMBER_LOW</a>&nbsp;&nbsp;&nbsp;0x0106</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Low address for device id.  <a href="#ae8a1cdab4aadd52e37f3e362f096dedb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a28bbb8dd649d5e11a3eab04e85611861">SOFTWARE_VERSION_NUMBER</a>&nbsp;&nbsp;&nbsp;0x0107</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Version number of the application.  <a href="#a28bbb8dd649d5e11a3eab04e85611861"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a71cf2cef47032f197ff42cdd0341f9e9">APPLICATION_PROGRAMM</a>&nbsp;&nbsp;&nbsp;0x010C</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Startadress of the application program.  <a href="#a71cf2cef47032f197ff42cdd0341f9e9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a6be09451a6151c5f7d19d0a1a7520b00">PORT_A_DIRECTION_BIT</a>&nbsp;&nbsp;&nbsp;0x010C</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a36e1203bd35757a2d24c7a7488dc39e2">APPLICATION_RUN_STATUS</a>&nbsp;&nbsp;&nbsp;0x010D</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">status of the application 0x00=run, 0xFF=stop  <a href="#a36e1203bd35757a2d24c7a7488dc39e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#afcf8d2f51f0f49fffd686865acea94d1">ROUTECOUNT</a>&nbsp;&nbsp;&nbsp;0x010E</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#abcc3f2fd268a19f70795cd172a0fe4e6">ASSOCTABPTR</a>&nbsp;&nbsp;&nbsp;0x0111</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">start of associations in eeprom  <a href="#abcc3f2fd268a19f70795cd172a0fe4e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a1a04a1bee4ba608e8febe0e39e7e0f04">COMMSTAB_ADDRESS</a>&nbsp;&nbsp;&nbsp;0x0112</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">COMMSTAB Pointer.  <a href="#a1a04a1bee4ba608e8febe0e39e7e0f04"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a5f41914a8993067abe915849b0f0bc5b">COUNT_GRP_ADDRESSES</a>&nbsp;&nbsp;&nbsp;0x0116</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">number of group addresses stored in EEPROM  <a href="#a5f41914a8993067abe915849b0f0bc5b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a05146ed1759ff141e4e78a9739ff1bdb">PA_ADDRESS_HIGH</a>&nbsp;&nbsp;&nbsp;0x0117</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">high address for the physical address of the device  <a href="#a05146ed1759ff141e4e78a9739ff1bdb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#afe14aac8ca24567289c746da1323d3b8">PA_ADDRESS_LOW</a>&nbsp;&nbsp;&nbsp;0x0118</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">low address for the physical address of the device  <a href="#afe14aac8ca24567289c746da1323d3b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#adf2053b1fbb003d094a19155944ec665">START_ADDRESS_GROUP_ADR</a>&nbsp;&nbsp;&nbsp;0x0119</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">address in eeprom where group addresses are stored  <a href="#adf2053b1fbb003d094a19155944ec665"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a332e353c27828076ade45e7d1967873f">START_ADDRESS_GROUP_ADDRESSES</a>&nbsp;&nbsp;&nbsp;0x0119</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#acfd8ed16024b5854f4953587ab9a4a06">sendExtTelegram</a> (uint8_t commObjectNumber, uint8_t value, uint8_t offset)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send telegram as response to signal current state of the port to other devices.  <a href="#acfd8ed16024b5854f4953587ab9a4a06"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a5374dc4335d063166646c8c268f17e92">sendTelegram</a> (uint8_t commObjectNumber, uint8_t value, uint8_t offset)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Send telegram as response to signal current state of the port to other devices.  <a href="#a5374dc4335d063166646c8c268f17e92"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a313ffcd6f35f6b76ed97d80765dd9faf">findRespondGroupAddressByObjectNumber</a> (uint8_t commObjectNumber, uint8_t offset)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Search through group address list and return the matching position of a group address which is an response address link.  <a href="#a313ffcd6f35f6b76ed97d80765dd9faf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#aa73e24db682143ef1340c4e4e46d7feb">fb_handlemsg</a> (struct <a class="el" href="structmsg.html">msg</a> *rxmsg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">That function will be called if a telegram was received completely.  <a href="#aa73e24db682143ef1340c4e4e46d7feb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ad7a2bb501efcd19ff1815d60523c2fb0">fbprot_Init</a> (const <a class="el" href="structSTRUCT__DEFPARAM.html">STRUCT_DEFPARAM</a> *pParam)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read configuration from eeprom is existant or set default values and write them to the eeprom.  <a href="#ad7a2bb501efcd19ff1815d60523c2fb0"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a694e1f79998d52c33dbb7ed4c23ccf57">pa</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the physical adress of the controller  <a href="#a694e1f79998d52c33dbb7ed4c23ccf57"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Define the protocol specific definitions Implementation of the communication protocol. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dirk Opfer, Matthias Fechner, Christian Bode </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>Fri Dec 21 18:28:22 2007 </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a0382d86cb87eafac4f60d02590d469b4"></a><!-- doxytag: member="fb_prot.h::APPLICATION_MODE" ref="a0382d86cb87eafac4f60d02590d469b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APPLICATION_MODE&nbsp;&nbsp;&nbsp;0x1E</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>value for application layer mode </p>

</div>
</div>
<a class="anchor" id="a71cf2cef47032f197ff42cdd0341f9e9"></a><!-- doxytag: member="fb_prot.h::APPLICATION_PROGRAMM" ref="a71cf2cef47032f197ff42cdd0341f9e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APPLICATION_PROGRAMM&nbsp;&nbsp;&nbsp;0x010C</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Startadress of the application program. </p>

</div>
</div>
<a class="anchor" id="a36e1203bd35757a2d24c7a7488dc39e2"></a><!-- doxytag: member="fb_prot.h::APPLICATION_RUN_STATUS" ref="a36e1203bd35757a2d24c7a7488dc39e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APPLICATION_RUN_STATUS&nbsp;&nbsp;&nbsp;0x010D</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>status of the application 0x00=run, 0xFF=stop </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00669">A_GroupValue_Read()</a>, <a class="el" href="fb__prot_8c_source.html#l00698">A_GroupValue_Write()</a>, and <a class="el" href="fb__in8__app_8c_source.html#l00181">timerOverflowFunction()</a>.</p>

</div>
</div>
<a class="anchor" id="abcc3f2fd268a19f70795cd172a0fe4e6"></a><!-- doxytag: member="fb_prot.h::ASSOCTABPTR" ref="abcc3f2fd268a19f70795cd172a0fe4e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASSOCTABPTR&nbsp;&nbsp;&nbsp;0x0111</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>start of associations in eeprom </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00247">findRespondGroupAddressByObjectNumber()</a>, <a class="el" href="fb__relais__app_8c_source.html#l00284">readApplication()</a>, and <a class="el" href="fb__relais__app_8c_source.html#l00356">runApplication()</a>.</p>

</div>
</div>
<a class="anchor" id="a27e2dbb193fe9e6cfbf74e9103117fcf"></a><!-- doxytag: member="fb_prot.h::BASE_ADDRESS_OFFSET" ref="a27e2dbb193fe9e6cfbf74e9103117fcf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BASE_ADDRESS_OFFSET&nbsp;&nbsp;&nbsp;0x0100</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Offset in BCU1 EEPROM. </p>

</div>
</div>
<a class="anchor" id="a1a04a1bee4ba608e8febe0e39e7e0f04"></a><!-- doxytag: member="fb_prot.h::COMMSTAB_ADDRESS" ref="a1a04a1bee4ba608e8febe0e39e7e0f04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMSTAB_ADDRESS&nbsp;&nbsp;&nbsp;0x0112</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>COMMSTAB Pointer. </p>

<p>Referenced by <a class="el" href="fb__relais__app_8c_source.html#l00356">runApplication()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f41914a8993067abe915849b0f0bc5b"></a><!-- doxytag: member="fb_prot.h::COUNT_GRP_ADDRESSES" ref="a5f41914a8993067abe915849b0f0bc5b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COUNT_GRP_ADDRESSES&nbsp;&nbsp;&nbsp;0x0116</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of group addresses stored in EEPROM </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00280">read_grp_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a559201e80166d584f01e50012b4f4f8e"></a><!-- doxytag: member="fb_prot.h::DEVICE_NUMBER_HIGH" ref="a559201e80166d584f01e50012b4f4f8e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_NUMBER_HIGH&nbsp;&nbsp;&nbsp;0x0105</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>High address for device id. </p>

</div>
</div>
<a class="anchor" id="ae8a1cdab4aadd52e37f3e362f096dedb"></a><!-- doxytag: member="fb_prot.h::DEVICE_NUMBER_LOW" ref="ae8a1cdab4aadd52e37f3e362f096dedb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_NUMBER_LOW&nbsp;&nbsp;&nbsp;0x0106</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Low address for device id. </p>

</div>
</div>
<a class="anchor" id="a72963ecc3913cf18cbf3e1fc4b6459aa"></a><!-- doxytag: member="fb_prot.h::LINK_MODE" ref="a72963ecc3913cf18cbf3e1fc4b6459aa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LINK_MODE&nbsp;&nbsp;&nbsp;0x12</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>value for link layer mode </p>

</div>
</div>
<a class="anchor" id="a314a39a5464c93e57b4b7f8404e620d7"></a><!-- doxytag: member="fb_prot.h::MANUFACTORER_ADR" ref="a314a39a5464c93e57b4b7f8404e620d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MANUFACTORER_ADR&nbsp;&nbsp;&nbsp;0x0104</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Low address for manufactorer id. </p>

</div>
</div>
<a class="anchor" id="ae746267372f4ff3cfcb5a695ab0393e4"></a><!-- doxytag: member="fb_prot.h::MANUFACTORER_ADR_LOW" ref="ae746267372f4ff3cfcb5a695ab0393e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MANUFACTORER_ADR_LOW&nbsp;&nbsp;&nbsp;0x0104</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000080">Todo:</a></b></dt><dd>delete define </dd></dl>
<p>Low address for manufactorer id </p>

</div>
</div>
<a class="anchor" id="a27f411c6f6ed4d6c2a28431c95ff74f7"></a><!-- doxytag: member="fb_prot.h::MONITOR_MODE" ref="a27f411c6f6ed4d6c2a28431c95ff74f7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MONITOR_MODE&nbsp;&nbsp;&nbsp;0x90</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>value for bus monitor mode </p>

</div>
</div>
<a class="anchor" id="ac5fd1b23eda91ae73eb2b5ce6efd6e97"></a><!-- doxytag: member="fb_prot.h::MSG_MASK" ref="ac5fd1b23eda91ae73eb2b5ce6efd6e97" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_MASK&nbsp;&nbsp;&nbsp;0xC</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mask for the message priority. </p>

</div>
</div>
<a class="anchor" id="afe126fa57663b84e7bfcf4da0367fafa"></a><!-- doxytag: member="fb_prot.h::MSG_PRIO_ALARM" ref="afe126fa57663b84e7bfcf4da0367fafa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_PRIO_ALARM&nbsp;&nbsp;&nbsp;(1&lt;&lt;1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mesage priority is alarm (interface time 20-22ms). </p>

</div>
</div>
<a class="anchor" id="aba9c11cb037d1672c01937236af69ce8"></a><!-- doxytag: member="fb_prot.h::MSG_PRIO_HIGH" ref="aba9c11cb037d1672c01937236af69ce8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_PRIO_HIGH&nbsp;&nbsp;&nbsp;(1&lt;&lt;0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mesage priority is high (interface time &gt; 22ms). </p>

</div>
</div>
<a class="anchor" id="aebf89ae9b8d561bbc4c13ab2e62b4593"></a><!-- doxytag: member="fb_prot.h::MSG_PRIO_LOW" ref="aebf89ae9b8d561bbc4c13ab2e62b4593" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_PRIO_LOW&nbsp;&nbsp;&nbsp;(1&lt;&lt;1 | 1&lt;&lt;0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mesage priority is low (interface time &gt; 25ms). </p>

</div>
</div>
<a class="anchor" id="ad3eeeec6928d8e01d4e50263599f0ddc"></a><!-- doxytag: member="fb_prot.h::MSG_PRIO_SYSTEM" ref="ad3eeeec6928d8e01d4e50263599f0ddc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_PRIO_SYSTEM&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mesage priority is system (highest priority, configuration and management). </p>

</div>
</div>
<a class="anchor" id="a05146ed1759ff141e4e78a9739ff1bdb"></a><!-- doxytag: member="fb_prot.h::PA_ADDRESS_HIGH" ref="a05146ed1759ff141e4e78a9739ff1bdb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PA_ADDRESS_HIGH&nbsp;&nbsp;&nbsp;0x0117</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>high address for the physical address of the device </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00358">A_PhysicalAddress_Write()</a>, <a class="el" href="fb__prot_8c_source.html#l00904">fbprot_Init()</a>, <a class="el" href="fb__relais__app_8c_source.html#l00284">readApplication()</a>, <a class="el" href="fb__prot_8c_source.html#l00163">sendExtTelegram()</a>, <a class="el" href="fb__prot_8c_source.html#l00208">sendTelegram()</a>, and <a class="el" href="fb__hal_8c_source.html#l00218">sendTestTelegram()</a>.</p>

</div>
</div>
<a class="anchor" id="afe14aac8ca24567289c746da1323d3b8"></a><!-- doxytag: member="fb_prot.h::PA_ADDRESS_LOW" ref="afe14aac8ca24567289c746da1323d3b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PA_ADDRESS_LOW&nbsp;&nbsp;&nbsp;0x0118</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>low address for the physical address of the device </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00904">fbprot_Init()</a>, <a class="el" href="fb__relais__app_8c_source.html#l00284">readApplication()</a>, <a class="el" href="fb__prot_8c_source.html#l00163">sendExtTelegram()</a>, <a class="el" href="fb__prot_8c_source.html#l00208">sendTelegram()</a>, and <a class="el" href="fb__hal_8c_source.html#l00218">sendTestTelegram()</a>.</p>

</div>
</div>
<a class="anchor" id="a6be09451a6151c5f7d19d0a1a7520b00"></a><!-- doxytag: member="fb_prot.h::PORT_A_DIRECTION_BIT" ref="a6be09451a6151c5f7d19d0a1a7520b00" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PORT_A_DIRECTION_BIT&nbsp;&nbsp;&nbsp;0x010C</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000081">Todo:</a></b></dt><dd>delete define </dd></dl>
<p>Port A Direction Bit Setting </p>

</div>
</div>
<a class="anchor" id="a4387d307ddd85f212101a3030f065055"></a><!-- doxytag: member="fb_prot.h::PROGRAMMING_MODE" ref="a4387d307ddd85f212101a3030f065055" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROGRAMMING_MODE&nbsp;&nbsp;&nbsp;0x81</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>value for programming mode </p>

</div>
</div>
<a class="anchor" id="a29408eae2e883361a4f9d07dd1a31dda"></a><!-- doxytag: member="fb_prot.h::PROT_EXT" ref="a29408eae2e883361a4f9d07dd1a31dda" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROT_EXT&nbsp;&nbsp;&nbsp;extern</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set PROT_EXT to extern to make clear it is include from an external source like a lib. </p>

</div>
</div>
<a class="anchor" id="a9a3de7c5e89b21dec1c78d77c43d8fe9"></a><!-- doxytag: member="fb_prot.h::RESET_MODE" ref="a9a3de7c5e89b21dec1c78d77c43d8fe9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESET_MODE&nbsp;&nbsp;&nbsp;0xC0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>value for reset </p>

</div>
</div>
<a class="anchor" id="afcf8d2f51f0f49fffd686865acea94d1"></a><!-- doxytag: member="fb_prot.h::ROUTECOUNT" ref="afcf8d2f51f0f49fffd686865acea94d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROUTECOUNT&nbsp;&nbsp;&nbsp;0x010E</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000082">Todo:</a></b></dt><dd>document variable </dd></dl>

</div>
</div>
<a class="anchor" id="a28bbb8dd649d5e11a3eab04e85611861"></a><!-- doxytag: member="fb_prot.h::SOFTWARE_VERSION_NUMBER" ref="a28bbb8dd649d5e11a3eab04e85611861" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOFTWARE_VERSION_NUMBER&nbsp;&nbsp;&nbsp;0x0107</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Version number of the application. </p>

</div>
</div>
<a class="anchor" id="a332e353c27828076ade45e7d1967873f"></a><!-- doxytag: member="fb_prot.h::START_ADDRESS_GROUP_ADDRESSES" ref="a332e353c27828076ade45e7d1967873f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define START_ADDRESS_GROUP_ADDRESSES&nbsp;&nbsp;&nbsp;0x0119</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000083">Todo:</a></b></dt><dd>delete define </dd></dl>
<p>address in eeprom where group addresses are stored */ </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00280">read_grp_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="adf2053b1fbb003d094a19155944ec665"></a><!-- doxytag: member="fb_prot.h::START_ADDRESS_GROUP_ADR" ref="adf2053b1fbb003d094a19155944ec665" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define START_ADDRESS_GROUP_ADR&nbsp;&nbsp;&nbsp;0x0119</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>address in eeprom where group addresses are stored </p>

</div>
</div>
<a class="anchor" id="ad331ea80e37048c176ce596bb3d50629"></a><!-- doxytag: member="fb_prot.h::T_BROADCAST_DATA" ref="ad331ea80e37048c176ce596bb3d50629" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_BROADCAST_DATA&nbsp;&nbsp;&nbsp;0x8000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A broadcast telegram. </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00747">check_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a297dc1f48a8a663935fd48fcee8c464e"></a><!-- doxytag: member="fb_prot.h::T_BROADCAST_DATA_MASK" ref="a297dc1f48a8a663935fd48fcee8c464e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_BROADCAST_DATA_MASK&nbsp;&nbsp;&nbsp;0x80FC</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mask for the broadcast telegram. </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00747">check_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c22ae32379fbc042fdfa61e1532a5b6"></a><!-- doxytag: member="fb_prot.h::T_CONNECT_REQ" ref="a8c22ae32379fbc042fdfa61e1532a5b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_CONNECT_REQ&nbsp;&nbsp;&nbsp;0x0080</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A connect request. </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00747">check_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a2d34c9f5064c66717557b70def8bd7"></a><!-- doxytag: member="fb_prot.h::T_CONNECT_REQ_MASK" ref="a1a2d34c9f5064c66717557b70def8bd7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_CONNECT_REQ_MASK&nbsp;&nbsp;&nbsp;0x80FF</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mask for the connect request. </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00747">check_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a301dc9d6faf968b6037d221545281b34"></a><!-- doxytag: member="fb_prot.h::T_DISCONNECT_REQ" ref="a301dc9d6faf968b6037d221545281b34" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_DISCONNECT_REQ&nbsp;&nbsp;&nbsp;0x0081</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A disconnect request. </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00747">check_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a0383d85348bb259849f7258ace9ab7db"></a><!-- doxytag: member="fb_prot.h::T_DISCONNECT_REQ_MASK" ref="a0383d85348bb259849f7258ace9ab7db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_DISCONNECT_REQ_MASK&nbsp;&nbsp;&nbsp;0x80FF</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mask for the disconnect request. </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00747">check_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a2f04db4a89579a520b3d1fc9f3c60826"></a><!-- doxytag: member="fb_prot.h::TRANSPORT_MODE" ref="a2f04db4a89579a520b3d1fc9f3c60826" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRANSPORT_MODE&nbsp;&nbsp;&nbsp;0x96</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>value for transport layer mode </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa73e24db682143ef1340c4e4e46d7feb"></a><!-- doxytag: member="fb_prot.h::fb_handlemsg" ref="aa73e24db682143ef1340c4e4e46d7feb" args="(struct msg *rxmsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT uint8_t fb_handlemsg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmsg.html">msg</a> *&nbsp;</td>
          <td class="paramname"> <em>rxmsg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>That function will be called if a telegram was received completely. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rxmsg</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>References <a class="el" href="fb__prot_8h_source.html#l00102">fbus_hdr::apci</a>, <a class="el" href="fb__prot_8c_source.html#l00747">check_addr()</a>, <a class="el" href="fb__hal_8c_source.html#l00140">checksum</a>, <a class="el" href="fb__prot_8c_source.html#l00073">fb_cmd::cmd</a>, <a class="el" href="msg__queue_8h_source.html#l00053">COUNT_ARRAY_ELEMENTS</a>, <a class="el" href="msg__queue_8h_source.html#l00070">msg::data</a>, <a class="el" href="freebus-debug_8h_source.html#l00067">DEBUG_NEWLINE</a>, <a class="el" href="freebus-debug_8h_source.html#l00053">DEBUG_PUTC</a>, <a class="el" href="freebus-debug_8h_source.html#l00063">DEBUG_PUTHEX</a>, <a class="el" href="freebus-debug_8h_source.html#l00057">DEBUG_PUTS</a>, <a class="el" href="fb_8h_source.html#l00030">FB_NONE</a>, <a class="el" href="structfb__cmd.html#ab902de246a9c613b16fc041061cfa23e">fb_cmd::func</a>, <a class="el" href="msg__queue_8h_source.html#l00069">msg::len</a>, <a class="el" href="fb__prot_8c_source.html#l00074">fb_cmd::mask</a>, <a class="el" href="fb__prot_8c_source.html#l00076">fb_cmd::max_len</a>, <a class="el" href="fb__prot_8c_source.html#l00075">fb_cmd::min_len</a>, <a class="el" href="fb__prot_8h_source.html#l00100">fbus_hdr::npci</a>, <a class="el" href="fb__prot_8c_source.html#l00072">fb_cmd::state</a>, and <a class="el" href="fb__prot_8h_source.html#l00101">fbus_hdr::tpci</a>.</p>

<p>Referenced by <a class="el" href="fb__hal_8c_source.html#l00626">timer_timeout()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="fb__prot_8h_aa73e24db682143ef1340c4e4e46d7feb_cgraph.png" border="0" usemap="#fb__prot_8h_aa73e24db682143ef1340c4e4e46d7feb_cgraph_map" alt=""></div>
<map name="fb__prot_8h_aa73e24db682143ef1340c4e4e46d7feb_cgraph_map" id="fb__prot_8h_aa73e24db682143ef1340c4e4e46d7feb_cgraph">
<area shape="rect" id="node3" href="fb__prot_8c.html#af4f820be8f1240cee6515133062a2e93" title="Analyse the type of the message (broadcast, direct, group address) and check for..." alt="" coords="159,5,247,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="fb__prot_8h_aa73e24db682143ef1340c4e4e46d7feb_icgraph.png" border="0" usemap="#fb__prot_8h_aa73e24db682143ef1340c4e4e46d7feb_icgraph_map" alt=""></div>
<map name="fb__prot_8h_aa73e24db682143ef1340c4e4e46d7feb_icgraph_map" id="fb__prot_8h_aa73e24db682143ef1340c4e4e46d7feb_icgraph">
<area shape="rect" id="node3" href="fb__hal_8c.html#af44a3cacd6e2ffabfab5a4628b796a79" title="That function is called if the timeout of 384µs tiggered." alt="" coords="157,5,259,35"/><area shape="rect" id="node5" href="fb__hal_8c.html#add2d7cdddfb682dcc0391e60cf42c7d6" title="The ISR handles which function must be called." alt="" coords="307,5,349,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad7a2bb501efcd19ff1815d60523c2fb0"></a><!-- doxytag: member="fb_prot.h::fbprot_Init" ref="ad7a2bb501efcd19ff1815d60523c2fb0" args="(const STRUCT_DEFPARAM *pParam)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT void fbprot_Init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structSTRUCT__DEFPARAM.html">STRUCT_DEFPARAM</a> *&nbsp;</td>
          <td class="paramname"> <em>pParam</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read configuration from eeprom is existant or set default values and write them to the eeprom. </p>
<p>Configure and enable all interrupts. </p>

<p><p>&lt; </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000109">Todo:</a></b></dt><dd>do not save group addresses in memory, read it from eeprom to save memory. </dd></dl>
</p>

<p>References <a class="el" href="fb__eeprom_8c_source.html#l00178">eeprom_ParamRead()</a>, <a class="el" href="fb__eeprom_8c_source.html#l00268">eeprom_ParamSetDefault()</a>, <a class="el" href="fb__eeprom_8c_source.html#l00323">eeprom_print()</a>, <a class="el" href="fb__prot_8h_source.html#l00109">pa</a>, <a class="el" href="fb__prot_8h_source.html#l00082">PA_ADDRESS_HIGH</a>, <a class="el" href="fb__prot_8h_source.html#l00083">PA_ADDRESS_LOW</a>, and <a class="el" href="fb__prot_8c_source.html#l00280">read_grp_addr()</a>.</p>

<p>Referenced by <a class="el" href="fb__in8__app_8c_source.html#l00870">main()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_cgraph.png" border="0" usemap="#fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_cgraph_map" alt=""></div>
<map name="fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_cgraph_map" id="fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_cgraph">
<area shape="rect" id="node3" href="fb__eeprom_8h.html#a93b2810dc3abdedaa3dfa772943fb5ca" title="Read data from the eeprom cache and return it." alt="" coords="353,111,492,140"/><area shape="rect" id="node5" href="fb__eeprom_8h.html#a7b1be2223a2fe16a4791caa396ca5253" title="store the default parameter directly to the eeprom" alt="" coords="133,5,304,35"/><area shape="rect" id="node9" href="fb__eeprom_8h.html#a4106e144334e369c48eed9dfe23e593c" title="Print the complete eeprom to DEBUG defined." alt="" coords="171,109,267,139"/><area shape="rect" id="node11" href="fb__prot_8c.html#aaec72f885e36952a75395779cf20d684" title="Read the group addresses from the eeprom and save them in the struct grp_addr." alt="" coords="167,163,271,192"/><area shape="rect" id="node7" href="fb__eeprom_8c.html#a6ab1e3cc3c300d12592e39648da8c022" title="Store on byte on eeprom." alt="" coords="389,5,456,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_icgraph.png" border="0" usemap="#fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_icgraph_map" alt=""></div>
<map name="fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_icgraph_map" id="fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_icgraph">
<area shape="rect" id="node3" href="fb__in8__app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The start point of the program, init all libraries, start the bus interface, the..." alt="" coords="133,5,184,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a313ffcd6f35f6b76ed97d80765dd9faf"></a><!-- doxytag: member="fb_prot.h::findRespondGroupAddressByObjectNumber" ref="a313ffcd6f35f6b76ed97d80765dd9faf" args="(uint8_t commObjectNumber, uint8_t offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT uint8_t findRespondGroupAddressByObjectNumber </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>commObjectNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Search through group address list and return the matching position of a group address which is an response address link. </p>
<p>If no group address found return 0.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>commObjectNumber</em>&nbsp;</td><td>The object of the group address (0-7) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Definition of offset for response addresses in EEPROM, 0x0C for 8-out</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Position in group address array grp_addr </dd></dl>

<p>References <a class="el" href="fb__prot_8h_source.html#l00079">ASSOCTABPTR</a>, <a class="el" href="fb__eeprom_8h_source.html#l00045">BASE_ADDRESS_OFFSET</a>, and <a class="el" href="fb__eeprom_8c_source.html#l00178">eeprom_ParamRead()</a>.</p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00163">sendExtTelegram()</a>, and <a class="el" href="fb__prot_8c_source.html#l00208">sendTelegram()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_cgraph.png" border="0" usemap="#fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_cgraph_map" alt=""></div>
<map name="fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_cgraph_map" id="fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_cgraph">
<area shape="rect" id="node3" href="fb__eeprom_8h.html#a93b2810dc3abdedaa3dfa772943fb5ca" title="Read data from the eeprom cache and return it." alt="" coords="329,5,468,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_icgraph.png" border="0" usemap="#fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_icgraph_map" alt=""></div>
<map name="fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_icgraph_map" id="fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_icgraph">
<area shape="rect" id="node3" href="fb__prot_8c.html#ade80ef84f4f14d25a2283b43d9c1a54f" title="Send telegram as response to signal current state of the port to other devices." alt="" coords="328,5,451,35"/><area shape="rect" id="node5" href="fb__prot_8c.html#a990a78673785da5bb024bfaf60e0984a" title="Send telegram as response to signal current state of the port to other devices." alt="" coords="339,59,440,88"/><area shape="rect" id="node7" href="fb__in8__app_8c.html#a8d1473313842fe123fec771c086af269" title="Port Function: Jalousie." alt="" coords="500,7,628,36"/><area shape="rect" id="node9" href="fb__in8__app_8c.html#a3cabe34d9b90083ff13af0188e622539" title="Timer1 is used as application timer." alt="" coords="677,59,827,88"/><area shape="rect" id="node11" href="fb__in8__app_8c.html#a71a91b98ae9a796dac4ab23c7e3ff6d8" title="Port Function: switch." alt="" coords="504,111,624,140"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acfd8ed16024b5854f4953587ab9a4a06"></a><!-- doxytag: member="fb_prot.h::sendExtTelegram" ref="acfd8ed16024b5854f4953587ab9a4a06" args="(uint8_t commObjectNumber, uint8_t value, uint8_t offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT void sendExtTelegram </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>commObjectNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send telegram as response to signal current state of the port to other devices. </p>
<p>Only necessary if ports are switched inside a timer function.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000103">Todo:</a></b></dt><dd>what source address to send if object has several group addresses?</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>commObjectNumber</em>&nbsp;</td><td>which port was switched </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>1=switched on, 0=switched of </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Definition of offset for response addresses in EEPROM, 0x0C for 8-out </td></tr>
  </table>
  </dd>
</dl>

<p><p>&lt; </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000104">Todo:</a></b></dt><dd>that is application specific code maybe we should move it to another function </dd></dl>
</p>

<p>References <a class="el" href="msg__queue_8c_source.html#l00061">AllocMsgI()</a>, <a class="el" href="fb__prot_8h_source.html#l00102">fbus_hdr::apci</a>, <a class="el" href="fb__prot_8h_source.html#l00097">fbus_hdr::ctrl</a>, <a class="el" href="msg__queue_8h_source.html#l00070">msg::data</a>, <a class="el" href="fb__prot_8h_source.html#l00099">fbus_hdr::dest</a>, <a class="el" href="fb__eeprom_8c_source.html#l00178">eeprom_ParamRead()</a>, <a class="el" href="fb__hal_8c_source.html#l00946">fb_hal_txqueue_msg()</a>, <a class="el" href="fb__prot_8c_source.html#l00247">findRespondGroupAddressByObjectNumber()</a>, <a class="el" href="fb__prot_8h_source.html#l00092">grp_addr_s::ga</a>, <a class="el" href="fb__prot_8c_source.html#l00090">grp_addr</a>, <a class="el" href="msg__queue_8h_source.html#l00069">msg::len</a>, <a class="el" href="fb__prot_8h_source.html#l00100">fbus_hdr::npci</a>, <a class="el" href="fb__prot_8h_source.html#l00082">PA_ADDRESS_HIGH</a>, <a class="el" href="fb__prot_8h_source.html#l00083">PA_ADDRESS_LOW</a>, <a class="el" href="msg__queue_8h_source.html#l00071">msg::repeat</a>, <a class="el" href="fb__prot_8h_source.html#l00098">fbus_hdr::src</a>, and <a class="el" href="fb__prot_8h_source.html#l00101">fbus_hdr::tpci</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="fb__prot_8h_acfd8ed16024b5854f4953587ab9a4a06_cgraph.png" border="0" usemap="#fb__prot_8h_acfd8ed16024b5854f4953587ab9a4a06_cgraph_map" alt=""></div>
<map name="fb__prot_8h_acfd8ed16024b5854f4953587ab9a4a06_cgraph_map" id="fb__prot_8h_acfd8ed16024b5854f4953587ab9a4a06_cgraph">
<area shape="rect" id="node3" href="msg__queue_8h.html#aa3b6fa424df78c0dbbbaa16a7dd32acb" title="Allocate space for a message and return a pointer to it." alt="" coords="275,5,352,35"/><area shape="rect" id="node7" href="fb__eeprom_8h.html#a93b2810dc3abdedaa3dfa772943fb5ca" title="Read data from the eeprom cache and return it." alt="" coords="500,71,639,100"/><area shape="rect" id="node9" href="fb__hal_8h.html#af70a4606fe5ce0777a371e0c6c3540fb" title="Queue message for sending." alt="" coords="243,163,384,192"/><area shape="rect" id="node21" href="fb__prot_8h.html#a313ffcd6f35f6b76ed97d80765dd9faf" title="Search through group address list and return the matching position of a group address..." alt="" coords="176,109,451,139"/><area shape="rect" id="node5" href="fb__hal_8h.html#a29aed42c30189a510295e50c98f34afc" title="Hold application and set blink code to PORTB pin 0, our prog pin and LED." alt="" coords="543,5,596,35"/><area shape="rect" id="node11" href="msg__queue_8h.html#af35d846267d1aaaf1df04c8bff03047e" title="Add a new message to the message queue." alt="" coords="528,149,611,179"/><area shape="rect" id="node13" href="fb__hal_8c.html#abc433410f75bf996dab8e7fa672205c0" title="Function is called from message queue system to trigger the interrupt for transmitting..." alt="" coords="527,203,612,232"/><area shape="rect" id="node15" href="fb__hal_8c.html#a8155185b5b41794d6ead2aba9870b9fa" title="Generate the telegram checksum and copy the next octet to send to fb_frame." alt="" coords="689,203,788,232"/><area shape="rect" id="node17" href="fb__hal_8c.html#a5a622f74cb37183309cbf6a3678fb129" title="Generate an EIB frame and calculate the checksum." alt="" coords="856,176,920,205"/><area shape="rect" id="node19" href="fb__hal_8c.html#aa4a5a78d404751d2731d41c606c430fc" title="Set the next state in sending mode." alt="" coords="837,229,939,259"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5374dc4335d063166646c8c268f17e92"></a><!-- doxytag: member="fb_prot.h::sendTelegram" ref="a5374dc4335d063166646c8c268f17e92" args="(uint8_t commObjectNumber, uint8_t value, uint8_t offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT void sendTelegram </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>commObjectNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send telegram as response to signal current state of the port to other devices. </p>
<p>Only necessary if ports are switched inside a timer function.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000105">Todo:</a></b></dt><dd>what source address to send if object has several group addresses?</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>commObjectNumber</em>&nbsp;</td><td>which port was switched </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>1=switched on, 0=switched of </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Definition of offset for response addresses in EEPROM, 0x0C for 8-out </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="msg__queue_8c_source.html#l00061">AllocMsgI()</a>, <a class="el" href="fb__prot_8h_source.html#l00102">fbus_hdr::apci</a>, <a class="el" href="fb__prot_8h_source.html#l00097">fbus_hdr::ctrl</a>, <a class="el" href="msg__queue_8h_source.html#l00070">msg::data</a>, <a class="el" href="fb__prot_8h_source.html#l00099">fbus_hdr::dest</a>, <a class="el" href="fb__eeprom_8c_source.html#l00178">eeprom_ParamRead()</a>, <a class="el" href="fb__hal_8c_source.html#l00946">fb_hal_txqueue_msg()</a>, <a class="el" href="fb__prot_8c_source.html#l00247">findRespondGroupAddressByObjectNumber()</a>, <a class="el" href="fb__prot_8h_source.html#l00092">grp_addr_s::ga</a>, <a class="el" href="fb__prot_8c_source.html#l00090">grp_addr</a>, <a class="el" href="msg__queue_8h_source.html#l00069">msg::len</a>, <a class="el" href="fb__prot_8h_source.html#l00100">fbus_hdr::npci</a>, <a class="el" href="fb__prot_8h_source.html#l00082">PA_ADDRESS_HIGH</a>, <a class="el" href="fb__prot_8h_source.html#l00083">PA_ADDRESS_LOW</a>, <a class="el" href="msg__queue_8h_source.html#l00071">msg::repeat</a>, <a class="el" href="fb__prot_8h_source.html#l00098">fbus_hdr::src</a>, and <a class="el" href="fb__prot_8h_source.html#l00101">fbus_hdr::tpci</a>.</p>

<p>Referenced by <a class="el" href="fb__in8__app_8c_source.html#l00645">PortFunc_Jalousie()</a>, <a class="el" href="fb__in8__app_8c_source.html#l00497">PortFunc_Switch()</a>, and <a class="el" href="fb__in8__app_8c_source.html#l00181">timerOverflowFunction()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="fb__prot_8h_a5374dc4335d063166646c8c268f17e92_cgraph.png" border="0" usemap="#fb__prot_8h_a5374dc4335d063166646c8c268f17e92_cgraph_map" alt=""></div>
<map name="fb__prot_8h_a5374dc4335d063166646c8c268f17e92_cgraph_map" id="fb__prot_8h_a5374dc4335d063166646c8c268f17e92_cgraph">
<area shape="rect" id="node3" href="msg__queue_8h.html#aa3b6fa424df78c0dbbbaa16a7dd32acb" title="Allocate space for a message and return a pointer to it." alt="" coords="256,5,333,35"/><area shape="rect" id="node7" href="fb__eeprom_8h.html#a93b2810dc3abdedaa3dfa772943fb5ca" title="Read data from the eeprom cache and return it." alt="" coords="481,71,620,100"/><area shape="rect" id="node9" href="fb__hal_8h.html#af70a4606fe5ce0777a371e0c6c3540fb" title="Queue message for sending." alt="" coords="224,163,365,192"/><area shape="rect" id="node21" href="fb__prot_8h.html#a313ffcd6f35f6b76ed97d80765dd9faf" title="Search through group address list and return the matching position of a group address..." alt="" coords="157,109,432,139"/><area shape="rect" id="node5" href="fb__hal_8h.html#a29aed42c30189a510295e50c98f34afc" title="Hold application and set blink code to PORTB pin 0, our prog pin and LED." alt="" coords="524,5,577,35"/><area shape="rect" id="node11" href="msg__queue_8h.html#af35d846267d1aaaf1df04c8bff03047e" title="Add a new message to the message queue." alt="" coords="509,149,592,179"/><area shape="rect" id="node13" href="fb__hal_8c.html#abc433410f75bf996dab8e7fa672205c0" title="Function is called from message queue system to trigger the interrupt for transmitting..." alt="" coords="508,203,593,232"/><area shape="rect" id="node15" href="fb__hal_8c.html#a8155185b5b41794d6ead2aba9870b9fa" title="Generate the telegram checksum and copy the next octet to send to fb_frame." alt="" coords="671,203,769,232"/><area shape="rect" id="node17" href="fb__hal_8c.html#a5a622f74cb37183309cbf6a3678fb129" title="Generate an EIB frame and calculate the checksum." alt="" coords="837,176,901,205"/><area shape="rect" id="node19" href="fb__hal_8c.html#aa4a5a78d404751d2731d41c606c430fc" title="Set the next state in sending mode." alt="" coords="819,229,920,259"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<div class="center"><img src="fb__prot_8h_a5374dc4335d063166646c8c268f17e92_icgraph.png" border="0" usemap="#fb__prot_8h_a5374dc4335d063166646c8c268f17e92_icgraph_map" alt=""></div>
<map name="fb__prot_8h_a5374dc4335d063166646c8c268f17e92_icgraph_map" id="fb__prot_8h_a5374dc4335d063166646c8c268f17e92_icgraph">
<area shape="rect" id="node3" href="fb__in8__app_8c.html#a8d1473313842fe123fec771c086af269" title="Port Function: Jalousie." alt="" coords="159,5,287,35"/><area shape="rect" id="node5" href="fb__in8__app_8c.html#a3cabe34d9b90083ff13af0188e622539" title="Timer1 is used as application timer." alt="" coords="336,57,485,87"/><area shape="rect" id="node7" href="fb__in8__app_8c.html#a71a91b98ae9a796dac4ab23c7e3ff6d8" title="Port Function: switch." alt="" coords="163,109,283,139"/></map>
</div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a694e1f79998d52c33dbb7ed4c23ccf57"></a><!-- doxytag: member="fb_prot.h::pa" ref="a694e1f79998d52c33dbb7ed4c23ccf57" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT uint16_t <a class="el" href="fb__prot_8h.html#a694e1f79998d52c33dbb7ed4c23ccf57">pa</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the physical adress of the controller </p>

<p>Referenced by <a class="el" href="fb__prot_8c_source.html#l00358">A_PhysicalAddress_Write()</a>, <a class="el" href="fb__prot_8c_source.html#l00747">check_addr()</a>, <a class="el" href="fb__prot_8c_source.html#l00319">fb_new_msg()</a>, and <a class="el" href="fb__prot_8c_source.html#l00904">fbprot_Init()</a>.</p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.2 </small></address>
</body>
</html>
