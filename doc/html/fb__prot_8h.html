<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>FreeBusAVR: include/fb_prot.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>include/fb_prot.h File Reference</h1>  </div>
</div>
<div class="contents">

<p>Define the protocol specific definitions Implementation of the communication protocol.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="fb_8h_source.html">fb.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="msg__queue_8h_source.html">msg_queue.h</a>&quot;</code><br/>
<!-- startSectionHeader --><div class="dynheader">
Include dependency graph for fb_prot.h:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="fb__prot_8h__incl.png" border="0" usemap="#include_2fb__prot_8h" alt=""/></div>
<map name="include_2fb__prot_8h" id="include_2fb__prot_8h">
<area shape="rect" id="node3" href="fb_8h.html" title="Define general values used in bus communication." alt="" coords="5,160,51,189"/><area shape="rect" id="node5" href="msg__queue_8h.html" title="Definitions for the message queue system used for telegrams and communucation like debugging (also rs..." alt="" coords="76,83,185,112"/><area shape="rect" id="node7" href="fb__hardware_8h.html" title="Hardware specific options which includes the platforms (like ATmega8, ATmega168...)" alt="" coords="75,160,187,189"/></map>
<!-- endSectionContent --></div>
<!-- startSectionHeader --><div class="dynheader">
This graph shows which files directly or indirectly include this file:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="fb__prot_8h__dep__incl.png" border="0" usemap="#include_2fb__prot_8hdep" alt=""/></div>
<map name="include_2fb__prot_8hdep" id="include_2fb__prot_8hdep">
<area shape="rect" id="node3" href="fb__adc_8c.html" title="Test program to use ADC to measure bus voltage The ADC return a 10&#45;bit value. Vin=(ADC * Vref) / 1024..." alt="" coords="5,83,107,112"/><area shape="rect" id="node5" href="fb__ain10v_8c.html" title="to use the 09609110.vd1 Analog&#45;Sensorschnittstelle 4&#45;fach at the moment only for 0&#45;10V !!..." alt="" coords="131,83,269,112"/><area shape="rect" id="node7" href="fb__2-dimmer__app_8c.html" title="Dimmer application based on the Gira 1032 2 channel dimmer." alt="" coords="293,83,536,112"/><area shape="rect" id="node9" href="fb__in8__app_8c.html" title="The application for 8 binary inputs Manufactorer code is 0x04 = Jung &#160;Device type (2118) 0x..." alt="" coords="560,83,717,112"/><area shape="rect" id="node11" href="fb__relais__app_8c.html" title="The relais application to switch 8 relais Manufactorer code is 0x04 = Jung &#160;Device type (2038..." alt="" coords="741,83,925,112"/><area shape="rect" id="node13" href="fb__hal_8c.html" title="Freebus Hardware Layer. Implementation of a software&#45; uart + timer handling This file consists of fun..." alt="" coords="949,83,1037,112"/><area shape="rect" id="node15" href="fb__prot_8c.html" title="Handle all requests which are EIB bases like write current address or group address." alt="" coords="1061,83,1157,112"/></map>
<!-- endSectionContent --></div>

<p><a href="fb__prot_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structgrp__addr__s.html">grp_addr_s</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for the group addresses.  <a href="structgrp__addr__s.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfbus__hdr.html">fbus_hdr</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure of the EIB header for each telegram.  <a href="structfbus__hdr.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a29408eae2e883361a4f9d07dd1a31dda">PROT_EXT</a>&#160;&#160;&#160;extern</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set PROT_EXT to extern to make clear it is include from an external source like a lib.  <a href="#a29408eae2e883361a4f9d07dd1a31dda"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ad3eeeec6928d8e01d4e50263599f0ddc">MSG_PRIO_SYSTEM</a>&#160;&#160;&#160;0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mesage priority is system (highest priority, configuration and management)  <a href="#ad3eeeec6928d8e01d4e50263599f0ddc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#afe126fa57663b84e7bfcf4da0367fafa">MSG_PRIO_ALARM</a>&#160;&#160;&#160;(1&lt;&lt;1)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mesage priority is alarm (interface time 20-22ms)  <a href="#afe126fa57663b84e7bfcf4da0367fafa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#aba9c11cb037d1672c01937236af69ce8">MSG_PRIO_HIGH</a>&#160;&#160;&#160;(1&lt;&lt;0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mesage priority is high (interface time &gt; 22ms)  <a href="#aba9c11cb037d1672c01937236af69ce8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#aebf89ae9b8d561bbc4c13ab2e62b4593">MSG_PRIO_LOW</a>&#160;&#160;&#160;(1&lt;&lt;1 | 1&lt;&lt;0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mesage priority is low (interface time &gt; 25ms)  <a href="#aebf89ae9b8d561bbc4c13ab2e62b4593"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ac5fd1b23eda91ae73eb2b5ce6efd6e97">MSG_MASK</a>&#160;&#160;&#160;0xC</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask for the message priority.  <a href="#ac5fd1b23eda91ae73eb2b5ce6efd6e97"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ad331ea80e37048c176ce596bb3d50629">T_BROADCAST_DATA</a>&#160;&#160;&#160;0x8000</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A broadcast telegram.  <a href="#ad331ea80e37048c176ce596bb3d50629"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a297dc1f48a8a663935fd48fcee8c464e">T_BROADCAST_DATA_MASK</a>&#160;&#160;&#160;0x80FC</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask for the broadcast telegram.  <a href="#a297dc1f48a8a663935fd48fcee8c464e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a8c22ae32379fbc042fdfa61e1532a5b6">T_CONNECT_REQ</a>&#160;&#160;&#160;0x0080</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A connect request.  <a href="#a8c22ae32379fbc042fdfa61e1532a5b6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a1a2d34c9f5064c66717557b70def8bd7">T_CONNECT_REQ_MASK</a>&#160;&#160;&#160;0x80FF</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask for the connect request.  <a href="#a1a2d34c9f5064c66717557b70def8bd7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a301dc9d6faf968b6037d221545281b34">T_DISCONNECT_REQ</a>&#160;&#160;&#160;0x0081</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A disconnect request.  <a href="#a301dc9d6faf968b6037d221545281b34"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a0383d85348bb259849f7258ace9ab7db">T_DISCONNECT_REQ_MASK</a>&#160;&#160;&#160;0x80FF</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask for the disconnect request.  <a href="#a0383d85348bb259849f7258ace9ab7db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a4387d307ddd85f212101a3030f065055">PROGRAMMING_MODE</a>&#160;&#160;&#160;0x81</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">value for programming mode  <a href="#a4387d307ddd85f212101a3030f065055"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a27f411c6f6ed4d6c2a28431c95ff74f7">MONITOR_MODE</a>&#160;&#160;&#160;0x90</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">value for bus monitor mode  <a href="#a27f411c6f6ed4d6c2a28431c95ff74f7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a72963ecc3913cf18cbf3e1fc4b6459aa">LINK_MODE</a>&#160;&#160;&#160;0x12</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">value for link layer mode  <a href="#a72963ecc3913cf18cbf3e1fc4b6459aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a2f04db4a89579a520b3d1fc9f3c60826">TRANSPORT_MODE</a>&#160;&#160;&#160;0x96</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">value for transport layer mode  <a href="#a2f04db4a89579a520b3d1fc9f3c60826"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a0382d86cb87eafac4f60d02590d469b4">APPLICATION_MODE</a>&#160;&#160;&#160;0x1E</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">value for application layer mode  <a href="#a0382d86cb87eafac4f60d02590d469b4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a9a3de7c5e89b21dec1c78d77c43d8fe9">RESET_MODE</a>&#160;&#160;&#160;0xC0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">value for reset  <a href="#a9a3de7c5e89b21dec1c78d77c43d8fe9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a27e2dbb193fe9e6cfbf74e9103117fcf">BASE_ADDRESS_OFFSET</a>&#160;&#160;&#160;0x0100</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Offset in BCU1 EEPROM.  <a href="#a27e2dbb193fe9e6cfbf74e9103117fcf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ae746267372f4ff3cfcb5a695ab0393e4">MANUFACTORER_ADR_LOW</a>&#160;&#160;&#160;0x0104</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Low address for manufactorer id.  <a href="#ae746267372f4ff3cfcb5a695ab0393e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a314a39a5464c93e57b4b7f8404e620d7">MANUFACTORER_ADR</a>&#160;&#160;&#160;0x0104</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Low address for manufactorer id.  <a href="#a314a39a5464c93e57b4b7f8404e620d7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a559201e80166d584f01e50012b4f4f8e">DEVICE_NUMBER_HIGH</a>&#160;&#160;&#160;0x0105</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">High address for device id.  <a href="#a559201e80166d584f01e50012b4f4f8e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ae8a1cdab4aadd52e37f3e362f096dedb">DEVICE_NUMBER_LOW</a>&#160;&#160;&#160;0x0106</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Low address for device id.  <a href="#ae8a1cdab4aadd52e37f3e362f096dedb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a28bbb8dd649d5e11a3eab04e85611861">SOFTWARE_VERSION_NUMBER</a>&#160;&#160;&#160;0x0107</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Version number of the application.  <a href="#a28bbb8dd649d5e11a3eab04e85611861"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a71cf2cef47032f197ff42cdd0341f9e9">APPLICATION_PROGRAMM</a>&#160;&#160;&#160;0x010C</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Startadress of the application program.  <a href="#a71cf2cef47032f197ff42cdd0341f9e9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a6be09451a6151c5f7d19d0a1a7520b00">PORT_A_DIRECTION_BIT</a>&#160;&#160;&#160;0x010C</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Port A Direction Bit Setting.  <a href="#a6be09451a6151c5f7d19d0a1a7520b00"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a36e1203bd35757a2d24c7a7488dc39e2">APPLICATION_RUN_STATUS</a>&#160;&#160;&#160;0x010D</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">status of the application 0x00=run, 0xFF=stop  <a href="#a36e1203bd35757a2d24c7a7488dc39e2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#afcf8d2f51f0f49fffd686865acea94d1">ROUTECOUNT</a>&#160;&#160;&#160;0x010E</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#abcc3f2fd268a19f70795cd172a0fe4e6">ASSOCTABPTR</a>&#160;&#160;&#160;0x0111</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">start of associations in eeprom  <a href="#abcc3f2fd268a19f70795cd172a0fe4e6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a1a04a1bee4ba608e8febe0e39e7e0f04">COMMSTAB_ADDRESS</a>&#160;&#160;&#160;0x0112</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">COMMSTAB Pointer.  <a href="#a1a04a1bee4ba608e8febe0e39e7e0f04"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a5f41914a8993067abe915849b0f0bc5b">COUNT_GRP_ADDRESSES</a>&#160;&#160;&#160;0x0116</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">number of group addresses stored in EEPROM  <a href="#a5f41914a8993067abe915849b0f0bc5b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a05146ed1759ff141e4e78a9739ff1bdb">PA_ADDRESS_HIGH</a>&#160;&#160;&#160;0x0117</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">high address for the physical address of the device  <a href="#a05146ed1759ff141e4e78a9739ff1bdb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#afe14aac8ca24567289c746da1323d3b8">PA_ADDRESS_LOW</a>&#160;&#160;&#160;0x0118</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">low address for the physical address of the device  <a href="#afe14aac8ca24567289c746da1323d3b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#adf2053b1fbb003d094a19155944ec665">START_ADDRESS_GROUP_ADR</a>&#160;&#160;&#160;0x0119</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">address in eeprom where group addresses are stored  <a href="#adf2053b1fbb003d094a19155944ec665"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a332e353c27828076ade45e7d1967873f">START_ADDRESS_GROUP_ADDRESSES</a>&#160;&#160;&#160;0x0119</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">address in eeprom where group addresses are stored */  <a href="#a332e353c27828076ade45e7d1967873f"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#acfd8ed16024b5854f4953587ab9a4a06">sendExtTelegram</a> (uint8_t commObjectNumber, uint8_t <a class="el" href="fb__ain10v_8c.html#a3f0c55f449560b03ce0ac43270c26600">value</a>, uint8_t offset)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send telegram as response to signal current state of the port to other devices.  <a href="#acfd8ed16024b5854f4953587ab9a4a06"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a5374dc4335d063166646c8c268f17e92">sendTelegram</a> (uint8_t commObjectNumber, uint8_t <a class="el" href="fb__ain10v_8c.html#a3f0c55f449560b03ce0ac43270c26600">value</a>, uint8_t offset)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Send telegram as response to signal current state of the port to other devices.  <a href="#a5374dc4335d063166646c8c268f17e92"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a313ffcd6f35f6b76ed97d80765dd9faf">findRespondGroupAddressByObjectNumber</a> (uint8_t commObjectNumber, uint8_t offset)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Search through group address list and return the matching position of a group address which is an response address link.  <a href="#a313ffcd6f35f6b76ed97d80765dd9faf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#aa73e24db682143ef1340c4e4e46d7feb">fb_handlemsg</a> (struct <a class="el" href="structmsg.html">msg</a> *rxmsg)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue message for handling.  <a href="#aa73e24db682143ef1340c4e4e46d7feb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ae2f91ac69f50f2b2f70000524ae7362a">fbprot_msg_handler</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">That function is called from main loop.  <a href="#ae2f91ac69f50f2b2f70000524ae7362a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a766ba7985b3e27a7712af0338284d6c7"></a><!-- doxytag: member="fb_prot.h::fbprot_forward_msg" ref="a766ba7985b3e27a7712af0338284d6c7" args="(struct msg *rxmsg)" -->
PROT_EXT void&#160;</td><td class="memItemRight" valign="bottom"><b>fbprot_forward_msg</b> (struct <a class="el" href="structmsg.html">msg</a> *rxmsg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#ad7a2bb501efcd19ff1815d60523c2fb0">fbprot_Init</a> (const <a class="el" href="structSTRUCT__DEFPARAM.html">STRUCT_DEFPARAM</a> *pParam)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Read configuration from eeprom is existant or set default values and write them to the eeprom.  <a href="#ad7a2bb501efcd19ff1815d60523c2fb0"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PROT_EXT uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fb__prot_8h.html#a694e1f79998d52c33dbb7ed4c23ccf57">pa</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the physical adress of the controller  <a href="#a694e1f79998d52c33dbb7ed4c23ccf57"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Define the protocol specific definitions Implementation of the communication protocol. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Dirk Opfer, Matthias Fechner, Christian Bode, Dirk Armbrust </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>Fri Dec 21 18:28:22 2007 </dd></dl>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a0382d86cb87eafac4f60d02590d469b4"></a><!-- doxytag: member="fb_prot.h::APPLICATION_MODE" ref="a0382d86cb87eafac4f60d02590d469b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APPLICATION_MODE&#160;&#160;&#160;0x1E</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>value for application layer mode </p>

</div>
</div>
<a class="anchor" id="a71cf2cef47032f197ff42cdd0341f9e9"></a><!-- doxytag: member="fb_prot.h::APPLICATION_PROGRAMM" ref="a71cf2cef47032f197ff42cdd0341f9e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APPLICATION_PROGRAMM&#160;&#160;&#160;0x010C</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Startadress of the application program. </p>

</div>
</div>
<a class="anchor" id="a36e1203bd35757a2d24c7a7488dc39e2"></a><!-- doxytag: member="fb_prot.h::APPLICATION_RUN_STATUS" ref="a36e1203bd35757a2d24c7a7488dc39e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define APPLICATION_RUN_STATUS&#160;&#160;&#160;0x010D</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>status of the application 0x00=run, 0xFF=stop </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#ae56aada1e48493023c8f3ecf7a1e71a7">A_GroupValue_Read()</a>, <a class="el" href="fb__prot_8c.html#abb5d4fc672e3e3e123f5f3e6e9f901e3">A_GroupValue_Write()</a>, and <a class="el" href="fb__ain10v_8c.html#a3cabe34d9b90083ff13af0188e622539">timerOverflowFunction()</a>.</p>

</div>
</div>
<a class="anchor" id="abcc3f2fd268a19f70795cd172a0fe4e6"></a><!-- doxytag: member="fb_prot.h::ASSOCTABPTR" ref="abcc3f2fd268a19f70795cd172a0fe4e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ASSOCTABPTR&#160;&#160;&#160;0x0111</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>start of associations in eeprom </p>

<p>Referenced by <a class="el" href="fb__ain10v_8c.html#a4adf2da9160be7c9f461cafa1028ab0d">find_ga()</a>, <a class="el" href="fb__prot_8c.html#ac5c589c547e7f53fb4b2c9bbbbe8797a">findRespondGroupAddressByObjectNumber()</a>, <a class="el" href="fb__ain10v_8c.html#acdb92216340d9fc010cc12bbb44bbfb2">readApplication()</a>, and <a class="el" href="fb__relais__app_8c.html#a30773cfc4105728c9628fca36c8c7c20">runApplication()</a>.</p>

</div>
</div>
<a class="anchor" id="a27e2dbb193fe9e6cfbf74e9103117fcf"></a><!-- doxytag: member="fb_prot.h::BASE_ADDRESS_OFFSET" ref="a27e2dbb193fe9e6cfbf74e9103117fcf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BASE_ADDRESS_OFFSET&#160;&#160;&#160;0x0100</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Offset in BCU1 EEPROM. </p>

</div>
</div>
<a class="anchor" id="a1a04a1bee4ba608e8febe0e39e7e0f04"></a><!-- doxytag: member="fb_prot.h::COMMSTAB_ADDRESS" ref="a1a04a1bee4ba608e8febe0e39e7e0f04" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COMMSTAB_ADDRESS&#160;&#160;&#160;0x0112</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>COMMSTAB Pointer. </p>

<p>Referenced by <a class="el" href="fb__relais__app_8c.html#a1f6d9eb16dbc08dfcfac5f8ceb8d7f40">processOutputs()</a>, and <a class="el" href="fb__ain10v_8c.html#a1e40bd2b97ada2ca31c9dad1fdabe923">read_obj_type()</a>.</p>

</div>
</div>
<a class="anchor" id="a5f41914a8993067abe915849b0f0bc5b"></a><!-- doxytag: member="fb_prot.h::COUNT_GRP_ADDRESSES" ref="a5f41914a8993067abe915849b0f0bc5b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COUNT_GRP_ADDRESSES&#160;&#160;&#160;0x0116</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>number of group addresses stored in EEPROM </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#aaec72f885e36952a75395779cf20d684">read_grp_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a559201e80166d584f01e50012b4f4f8e"></a><!-- doxytag: member="fb_prot.h::DEVICE_NUMBER_HIGH" ref="a559201e80166d584f01e50012b4f4f8e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_NUMBER_HIGH&#160;&#160;&#160;0x0105</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>High address for device id. </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#a3e2ec796b82409111b3a88a764b17e4b">fbprot_Init()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8a1cdab4aadd52e37f3e362f096dedb"></a><!-- doxytag: member="fb_prot.h::DEVICE_NUMBER_LOW" ref="ae8a1cdab4aadd52e37f3e362f096dedb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_NUMBER_LOW&#160;&#160;&#160;0x0106</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Low address for device id. </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#a3e2ec796b82409111b3a88a764b17e4b">fbprot_Init()</a>.</p>

</div>
</div>
<a class="anchor" id="a72963ecc3913cf18cbf3e1fc4b6459aa"></a><!-- doxytag: member="fb_prot.h::LINK_MODE" ref="a72963ecc3913cf18cbf3e1fc4b6459aa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LINK_MODE&#160;&#160;&#160;0x12</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>value for link layer mode </p>

</div>
</div>
<a class="anchor" id="a314a39a5464c93e57b4b7f8404e620d7"></a><!-- doxytag: member="fb_prot.h::MANUFACTORER_ADR" ref="a314a39a5464c93e57b4b7f8404e620d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MANUFACTORER_ADR&#160;&#160;&#160;0x0104</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Low address for manufactorer id. </p>

</div>
</div>
<a class="anchor" id="ae746267372f4ff3cfcb5a695ab0393e4"></a><!-- doxytag: member="fb_prot.h::MANUFACTORER_ADR_LOW" ref="ae746267372f4ff3cfcb5a695ab0393e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MANUFACTORER_ADR_LOW&#160;&#160;&#160;0x0104</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Low address for manufactorer id. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000080">Todo:</a></b></dt><dd>delete define </dd></dl>

</div>
</div>
<a class="anchor" id="a27f411c6f6ed4d6c2a28431c95ff74f7"></a><!-- doxytag: member="fb_prot.h::MONITOR_MODE" ref="a27f411c6f6ed4d6c2a28431c95ff74f7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MONITOR_MODE&#160;&#160;&#160;0x90</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>value for bus monitor mode </p>

</div>
</div>
<a class="anchor" id="ac5fd1b23eda91ae73eb2b5ce6efd6e97"></a><!-- doxytag: member="fb_prot.h::MSG_MASK" ref="ac5fd1b23eda91ae73eb2b5ce6efd6e97" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_MASK&#160;&#160;&#160;0xC</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mask for the message priority. </p>

</div>
</div>
<a class="anchor" id="afe126fa57663b84e7bfcf4da0367fafa"></a><!-- doxytag: member="fb_prot.h::MSG_PRIO_ALARM" ref="afe126fa57663b84e7bfcf4da0367fafa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_PRIO_ALARM&#160;&#160;&#160;(1&lt;&lt;1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mesage priority is alarm (interface time 20-22ms) </p>

</div>
</div>
<a class="anchor" id="aba9c11cb037d1672c01937236af69ce8"></a><!-- doxytag: member="fb_prot.h::MSG_PRIO_HIGH" ref="aba9c11cb037d1672c01937236af69ce8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_PRIO_HIGH&#160;&#160;&#160;(1&lt;&lt;0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mesage priority is high (interface time &gt; 22ms) </p>

</div>
</div>
<a class="anchor" id="aebf89ae9b8d561bbc4c13ab2e62b4593"></a><!-- doxytag: member="fb_prot.h::MSG_PRIO_LOW" ref="aebf89ae9b8d561bbc4c13ab2e62b4593" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_PRIO_LOW&#160;&#160;&#160;(1&lt;&lt;1 | 1&lt;&lt;0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mesage priority is low (interface time &gt; 25ms) </p>

</div>
</div>
<a class="anchor" id="ad3eeeec6928d8e01d4e50263599f0ddc"></a><!-- doxytag: member="fb_prot.h::MSG_PRIO_SYSTEM" ref="ad3eeeec6928d8e01d4e50263599f0ddc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSG_PRIO_SYSTEM&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mesage priority is system (highest priority, configuration and management) </p>

</div>
</div>
<a class="anchor" id="a05146ed1759ff141e4e78a9739ff1bdb"></a><!-- doxytag: member="fb_prot.h::PA_ADDRESS_HIGH" ref="a05146ed1759ff141e4e78a9739ff1bdb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PA_ADDRESS_HIGH&#160;&#160;&#160;0x0117</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>high address for the physical address of the device </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#ac3b30c7591e51974ab895440929395c6">A_PhysicalAddress_Write()</a>, <a class="el" href="fb__prot_8c.html#a3e2ec796b82409111b3a88a764b17e4b">fbprot_Init()</a>, <a class="el" href="fb__relais__app_8c.html#acdb92216340d9fc010cc12bbb44bbfb2">readApplication()</a>, <a class="el" href="fb__prot_8c.html#ade80ef84f4f14d25a2283b43d9c1a54f">sendExtTelegram()</a>, and <a class="el" href="fb__prot_8c.html#a990a78673785da5bb024bfaf60e0984a">sendTelegram()</a>.</p>

</div>
</div>
<a class="anchor" id="afe14aac8ca24567289c746da1323d3b8"></a><!-- doxytag: member="fb_prot.h::PA_ADDRESS_LOW" ref="afe14aac8ca24567289c746da1323d3b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PA_ADDRESS_LOW&#160;&#160;&#160;0x0118</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>low address for the physical address of the device </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#a3e2ec796b82409111b3a88a764b17e4b">fbprot_Init()</a>, <a class="el" href="fb__relais__app_8c.html#acdb92216340d9fc010cc12bbb44bbfb2">readApplication()</a>, <a class="el" href="fb__prot_8c.html#ade80ef84f4f14d25a2283b43d9c1a54f">sendExtTelegram()</a>, and <a class="el" href="fb__prot_8c.html#a990a78673785da5bb024bfaf60e0984a">sendTelegram()</a>.</p>

</div>
</div>
<a class="anchor" id="a6be09451a6151c5f7d19d0a1a7520b00"></a><!-- doxytag: member="fb_prot.h::PORT_A_DIRECTION_BIT" ref="a6be09451a6151c5f7d19d0a1a7520b00" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PORT_A_DIRECTION_BIT&#160;&#160;&#160;0x010C</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Port A Direction Bit Setting. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000081">Todo:</a></b></dt><dd>delete define </dd></dl>

</div>
</div>
<a class="anchor" id="a4387d307ddd85f212101a3030f065055"></a><!-- doxytag: member="fb_prot.h::PROGRAMMING_MODE" ref="a4387d307ddd85f212101a3030f065055" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROGRAMMING_MODE&#160;&#160;&#160;0x81</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>value for programming mode </p>

</div>
</div>
<a class="anchor" id="a29408eae2e883361a4f9d07dd1a31dda"></a><!-- doxytag: member="fb_prot.h::PROT_EXT" ref="a29408eae2e883361a4f9d07dd1a31dda" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PROT_EXT&#160;&#160;&#160;extern</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set PROT_EXT to extern to make clear it is include from an external source like a lib. </p>

</div>
</div>
<a class="anchor" id="a9a3de7c5e89b21dec1c78d77c43d8fe9"></a><!-- doxytag: member="fb_prot.h::RESET_MODE" ref="a9a3de7c5e89b21dec1c78d77c43d8fe9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RESET_MODE&#160;&#160;&#160;0xC0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>value for reset </p>

</div>
</div>
<a class="anchor" id="afcf8d2f51f0f49fffd686865acea94d1"></a><!-- doxytag: member="fb_prot.h::ROUTECOUNT" ref="afcf8d2f51f0f49fffd686865acea94d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ROUTECOUNT&#160;&#160;&#160;0x010E</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000082">Todo:</a></b></dt><dd>document variable </dd></dl>

</div>
</div>
<a class="anchor" id="a28bbb8dd649d5e11a3eab04e85611861"></a><!-- doxytag: member="fb_prot.h::SOFTWARE_VERSION_NUMBER" ref="a28bbb8dd649d5e11a3eab04e85611861" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SOFTWARE_VERSION_NUMBER&#160;&#160;&#160;0x0107</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Version number of the application. </p>

</div>
</div>
<a class="anchor" id="a332e353c27828076ade45e7d1967873f"></a><!-- doxytag: member="fb_prot.h::START_ADDRESS_GROUP_ADDRESSES" ref="a332e353c27828076ade45e7d1967873f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define START_ADDRESS_GROUP_ADDRESSES&#160;&#160;&#160;0x0119</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>address in eeprom where group addresses are stored */ </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000083">Todo:</a></b></dt><dd>delete define </dd></dl>

<p>Referenced by <a class="el" href="fb__prot_8c.html#aaec72f885e36952a75395779cf20d684">read_grp_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="adf2053b1fbb003d094a19155944ec665"></a><!-- doxytag: member="fb_prot.h::START_ADDRESS_GROUP_ADR" ref="adf2053b1fbb003d094a19155944ec665" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define START_ADDRESS_GROUP_ADR&#160;&#160;&#160;0x0119</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>address in eeprom where group addresses are stored </p>

</div>
</div>
<a class="anchor" id="ad331ea80e37048c176ce596bb3d50629"></a><!-- doxytag: member="fb_prot.h::T_BROADCAST_DATA" ref="ad331ea80e37048c176ce596bb3d50629" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_BROADCAST_DATA&#160;&#160;&#160;0x8000</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A broadcast telegram. </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#af4f820be8f1240cee6515133062a2e93">check_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a297dc1f48a8a663935fd48fcee8c464e"></a><!-- doxytag: member="fb_prot.h::T_BROADCAST_DATA_MASK" ref="a297dc1f48a8a663935fd48fcee8c464e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_BROADCAST_DATA_MASK&#160;&#160;&#160;0x80FC</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mask for the broadcast telegram. </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#af4f820be8f1240cee6515133062a2e93">check_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c22ae32379fbc042fdfa61e1532a5b6"></a><!-- doxytag: member="fb_prot.h::T_CONNECT_REQ" ref="a8c22ae32379fbc042fdfa61e1532a5b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_CONNECT_REQ&#160;&#160;&#160;0x0080</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A connect request. </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#af4f820be8f1240cee6515133062a2e93">check_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a2d34c9f5064c66717557b70def8bd7"></a><!-- doxytag: member="fb_prot.h::T_CONNECT_REQ_MASK" ref="a1a2d34c9f5064c66717557b70def8bd7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_CONNECT_REQ_MASK&#160;&#160;&#160;0x80FF</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mask for the connect request. </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#af4f820be8f1240cee6515133062a2e93">check_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a301dc9d6faf968b6037d221545281b34"></a><!-- doxytag: member="fb_prot.h::T_DISCONNECT_REQ" ref="a301dc9d6faf968b6037d221545281b34" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_DISCONNECT_REQ&#160;&#160;&#160;0x0081</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A disconnect request. </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#af4f820be8f1240cee6515133062a2e93">check_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a0383d85348bb259849f7258ace9ab7db"></a><!-- doxytag: member="fb_prot.h::T_DISCONNECT_REQ_MASK" ref="a0383d85348bb259849f7258ace9ab7db" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define T_DISCONNECT_REQ_MASK&#160;&#160;&#160;0x80FF</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Mask for the disconnect request. </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#af4f820be8f1240cee6515133062a2e93">check_addr()</a>.</p>

</div>
</div>
<a class="anchor" id="a2f04db4a89579a520b3d1fc9f3c60826"></a><!-- doxytag: member="fb_prot.h::TRANSPORT_MODE" ref="a2f04db4a89579a520b3d1fc9f3c60826" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TRANSPORT_MODE&#160;&#160;&#160;0x96</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>value for transport layer mode </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="aa73e24db682143ef1340c4e4e46d7feb"></a><!-- doxytag: member="fb_prot.h::fb_handlemsg" ref="aa73e24db682143ef1340c4e4e46d7feb" args="(struct msg *rxmsg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT uint8_t fb_handlemsg </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structmsg.html">msg</a> *&#160;</td>
          <td class="paramname"> <em>rxmsg</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Queue message for handling. </p>
<p>That function will be called if a telegram was received completely.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">rxmsg</td><td>Pointer to message</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd></dd></dl>

<p>References <a class="el" href="msg__queue_8h.html#af35d846267d1aaaf1df04c8bff03047e">queuemsg()</a>.</p>

<p><!-- startSectionHeader --><div class="dynheader">
Here is the call graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="fb__prot_8h_aa73e24db682143ef1340c4e4e46d7feb_cgraph.png" border="0" usemap="#fb__prot_8h_aa73e24db682143ef1340c4e4e46d7feb_cgraph" alt=""/></div>
<map name="fb__prot_8h_aa73e24db682143ef1340c4e4e46d7feb_cgraph" id="fb__prot_8h_aa73e24db682143ef1340c4e4e46d7feb_cgraph">
<area shape="rect" id="node3" href="msg__queue_8h.html#af35d846267d1aaaf1df04c8bff03047e" title="Add a new message to the message queue." alt="" coords="165,5,256,35"/></map>
<!-- endSectionContent --></div>
</p>

</div>
</div>
<a class="anchor" id="ad7a2bb501efcd19ff1815d60523c2fb0"></a><!-- doxytag: member="fb_prot.h::fbprot_Init" ref="ad7a2bb501efcd19ff1815d60523c2fb0" args="(const STRUCT_DEFPARAM *pParam)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT void fbprot_Init </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structSTRUCT__DEFPARAM.html">STRUCT_DEFPARAM</a> *&#160;</td>
          <td class="paramname"> <em>pParam</em>&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read configuration from eeprom is existant or set default values and write them to the eeprom. </p>
<p>Configure and enable all interrupts. </p>

<p><p>&lt;</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000096">Todo:</a></b></dt><dd>do not save group addresses in memory, read it from eeprom to save memory. </dd></dl>
</p>

<p>References <a class="el" href="freebus-debug_8h.html#a992e66debf91a3c70533bbae6b5a046a">DEBUG_NEWLINE</a>, <a class="el" href="freebus-debug_8h.html#a9f481e1a0f65900c41f6e6cad5ddce21">DEBUG_PUTS</a>, <a class="el" href="fb__prot_8h.html#a559201e80166d584f01e50012b4f4f8e">DEVICE_NUMBER_HIGH</a>, <a class="el" href="fb__prot_8h.html#ae8a1cdab4aadd52e37f3e362f096dedb">DEVICE_NUMBER_LOW</a>, <a class="el" href="fb__eeprom_8h.html#a7b1be2223a2fe16a4791caa396ca5253">eeprom_ParamSetDefault()</a>, <a class="el" href="fb__eeprom_8h.html#a4106e144334e369c48eed9dfe23e593c">eeprom_print()</a>, <a class="el" href="fb__eeprom_8h.html#a9eb1d517bad2009ea1fcaa3dfb8d87f2">mem_ReadByte()</a>, <a class="el" href="fb__prot_8h.html#a694e1f79998d52c33dbb7ed4c23ccf57">pa</a>, <a class="el" href="fb__prot_8h.html#a05146ed1759ff141e4e78a9739ff1bdb">PA_ADDRESS_HIGH</a>, <a class="el" href="fb__prot_8h.html#afe14aac8ca24567289c746da1323d3b8">PA_ADDRESS_LOW</a>, and <a class="el" href="fb__prot_8c.html#aaec72f885e36952a75395779cf20d684">read_grp_addr()</a>.</p>

<p>Referenced by <a class="el" href="fb__adc_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main()</a>.</p>

<p><!-- startSectionHeader --><div class="dynheader">
Here is the call graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_cgraph.png" border="0" usemap="#fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_cgraph" alt=""/></div>
<map name="fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_cgraph" id="fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_cgraph">
<area shape="rect" id="node3" href="fb__eeprom_8h.html#a7b1be2223a2fe16a4791caa396ca5253" title="store the default parameter directly to the eeprom" alt="" coords="141,5,331,35"/><area shape="rect" id="node5" href="fb__eeprom_8h.html#a4106e144334e369c48eed9dfe23e593c" title="Print the complete eeprom to DEBUG defined." alt="" coords="183,59,289,88"/><area shape="rect" id="node7" href="fb__eeprom_8h.html#a9eb1d517bad2009ea1fcaa3dfb8d87f2" title="Read data from the eeprom cache and return it." alt="" coords="380,111,503,140"/><area shape="rect" id="node10" href="fb__prot_8c.html#aaec72f885e36952a75395779cf20d684" title="Read the group addresses from the eeprom and save them in the struct grp_addr." alt="" coords="179,163,293,192"/></map>
<!-- endSectionContent --></div>
</p>

<p><!-- startSectionHeader --><div class="dynheader">
Here is the caller graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_icgraph.png" border="0" usemap="#fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_icgraph" alt=""/></div>
<map name="fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_icgraph" id="fb__prot_8h_ad7a2bb501efcd19ff1815d60523c2fb0_icgraph">
<area shape="rect" id="node3" href="fb__adc_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The start point of the program, init all libraries, start the bus interface, the application and chec..." alt="" coords="143,5,196,35"/></map>
<!-- endSectionContent --></div>
</p>

</div>
</div>
<a class="anchor" id="ae2f91ac69f50f2b2f70000524ae7362a"></a><!-- doxytag: member="fb_prot.h::fbprot_msg_handler" ref="ae2f91ac69f50f2b2f70000524ae7362a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT void fbprot_msg_handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">&#160;)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>That function is called from main loop. </p>

<p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000095">Todo:</a></b></dt><dd>disable this debugging, it crashes the controller if a telegram is received that is unkown </dd></dl>
</p>

<p>References <a class="el" href="structfbus__hdr.html#ad851123f6d3d388bcd224e7da9c22669">fbus_hdr::apci</a>, <a class="el" href="fb__prot_8c.html#af4f820be8f1240cee6515133062a2e93">check_addr()</a>, <a class="el" href="structfb__cmd.html#acf85f5c59e47fa6e835b20b9f8ad47c0">fb_cmd::cmd</a>, <a class="el" href="msg__queue_8h.html#a0ec97afd35e8b03f52186853b4de5e9a">COUNT_ARRAY_ELEMENTS</a>, <a class="el" href="structmsg.html#a4d5d84257dfd217679a22a7d2ff9dd6f">msg::data</a>, <a class="el" href="freebus-debug_8h.html#a992e66debf91a3c70533bbae6b5a046a">DEBUG_NEWLINE</a>, <a class="el" href="freebus-debug_8h.html#ad8d82a47e19a599b0cca4140ed6b7c86">DEBUG_PUTC</a>, <a class="el" href="freebus-debug_8h.html#ad95fd4c3cff2f6c4f1343988282b9e31">DEBUG_PUTHEX</a>, <a class="el" href="freebus-debug_8h.html#a9f481e1a0f65900c41f6e6cad5ddce21">DEBUG_PUTS</a>, <a class="el" href="msg__queue_8h.html#a76c904b1fd4cb70e06c96422f8a58e43">dequeuemsg()</a>, <a class="el" href="structfbus__hdr.html#affac3a0c18c2fe2af1aaeccd2596cd5d">fbus_hdr::dest</a>, <a class="el" href="fb_8h.html#a1b0499c100f686fe464f9f139e6fa98d">FB_ACK</a>, <a class="el" href="fb__hal_8h.html#af70a4606fe5ce0777a371e0c6c3540fb">fb_hal_txqueue_msg()</a>, <a class="el" href="fb__hal_8h.html#a3e4f31f4b97d833e7ef5fb9615def386">fb_send_ack()</a>, <a class="el" href="structmsg.html#a8736cda7667fc6096fc011a0eb957d64">msg::flags</a>, <a class="el" href="msg__queue_8h.html#afec1149f3bb049af42978cf90c775ca6">FreeMsg()</a>, <a class="el" href="structfb__cmd.html#ab902de246a9c613b16fc041061cfa23e">fb_cmd::func</a>, <a class="el" href="structmsg.html#a9f80ed48480c54a999ac13700287f880">msg::len</a>, <a class="el" href="structfb__cmd.html#ab5709d1f3a82efdabfcc25b9a0114d33">fb_cmd::mask</a>, <a class="el" href="structfb__cmd.html#a8fe83add457eb2cc4dc31a7438084480">fb_cmd::max_len</a>, <a class="el" href="structfb__cmd.html#a76f85f2b42dfb775cafa02dddd06185c">fb_cmd::min_len</a>, <a class="el" href="msg__queue_8h.html#a962c15ff199e164f9cd3a9f88cd7bd27a9ae175911f48e90871f5f6037d427cd5">MSG_ALLOC</a>, <a class="el" href="msg__queue_8h.html#ac78e5c994cf36918516b451351d1bd5c">MSG_AUTOFREE</a>, <a class="el" href="fb__prot_8c.html#a13b38c2f32cb6fdf9e18f62e5dce75c6">MSG_BRC</a>, <a class="el" href="fb__prot_8c.html#ab3b0799fb79aec4bb06d92b4770139f9">MSG_GRP</a>, <a class="el" href="structmsg.html#a1f62dc1f252c5dd90aeb4a8063b2b068">msg::next</a>, <a class="el" href="structfbus__hdr.html#a7fe9afaff390f35dc2dbde5c1adb91f0">fbus_hdr::npci</a>, <a class="el" href="structmsg.html#a5be0cab05503423ed78791fa2e169dae">msg::state</a>, <a class="el" href="structfb__cmd.html#a47e0610b1e2af672b7712f0340fe9982">fb_cmd::state</a>, and <a class="el" href="structfbus__hdr.html#ab011cf810d4a1ed6a2ef9b24121ea737">fbus_hdr::tpci</a>.</p>

<p>Referenced by <a class="el" href="fb__in8__app_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main()</a>.</p>

<p><!-- startSectionHeader --><div class="dynheader">
Here is the call graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="fb__prot_8h_ae2f91ac69f50f2b2f70000524ae7362a_cgraph.png" border="0" usemap="#fb__prot_8h_ae2f91ac69f50f2b2f70000524ae7362a_cgraph" alt=""/></div>
<map name="fb__prot_8h_ae2f91ac69f50f2b2f70000524ae7362a_cgraph" id="fb__prot_8h_ae2f91ac69f50f2b2f70000524ae7362a_cgraph">
<area shape="rect" id="node3" href="fb__prot_8c.html#af4f820be8f1240cee6515133062a2e93" title="Analyse the type of the message (broadcast, direct, group address) and check for physical and group a..." alt="" coords="236,5,329,35"/><area shape="rect" id="node5" href="msg__queue_8h.html#a76c904b1fd4cb70e06c96422f8a58e43" title="Remove a message from the queue." alt="" coords="229,59,336,88"/><area shape="rect" id="node7" href="msg__queue_8h.html#afec1149f3bb049af42978cf90c775ca6" title="Free the message and mark it as MSG_FREE." alt="" coords="416,84,491,113"/><area shape="rect" id="node9" href="fb__hal_8h.html#af70a4606fe5ce0777a371e0c6c3540fb" title="Queue message for sending." alt="" coords="205,163,360,192"/><area shape="rect" id="node13" href="fb__hal_8h.html#a3e4f31f4b97d833e7ef5fb9615def386" title="Function to set the ack value for the response to a telegram which must be send in a absolutly excat ..." alt="" coords="232,216,333,245"/><area shape="rect" id="node11" href="msg__queue_8h.html#af35d846267d1aaaf1df04c8bff03047e" title="Add a new message to the message queue." alt="" coords="408,163,499,192"/></map>
<!-- endSectionContent --></div>
</p>

<p><!-- startSectionHeader --><div class="dynheader">
Here is the caller graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="fb__prot_8h_ae2f91ac69f50f2b2f70000524ae7362a_icgraph.png" border="0" usemap="#fb__prot_8h_ae2f91ac69f50f2b2f70000524ae7362a_icgraph" alt=""/></div>
<map name="fb__prot_8h_ae2f91ac69f50f2b2f70000524ae7362a_icgraph" id="fb__prot_8h_ae2f91ac69f50f2b2f70000524ae7362a_icgraph">
<area shape="rect" id="node3" href="fb__in8__app_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title="The start point of the program, init all libraries, start the bus interface, the application and chec..." alt="" coords="207,5,260,35"/></map>
<!-- endSectionContent --></div>
</p>

</div>
</div>
<a class="anchor" id="a313ffcd6f35f6b76ed97d80765dd9faf"></a><!-- doxytag: member="fb_prot.h::findRespondGroupAddressByObjectNumber" ref="a313ffcd6f35f6b76ed97d80765dd9faf" args="(uint8_t commObjectNumber, uint8_t offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT uint8_t findRespondGroupAddressByObjectNumber </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>commObjectNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Search through group address list and return the matching position of a group address which is an response address link. </p>
<p>If no group address found return 0.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">commObjectNumber</td><td>The object of the group address (0-7) </td></tr>
    <tr><td class="paramname">offset</td><td>Definition of offset for response addresses in EEPROM, 0x0C for 8-out</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Position in group address array grp_addr </dd></dl>

<p>References <a class="el" href="fb__prot_8h.html#abcc3f2fd268a19f70795cd172a0fe4e6">ASSOCTABPTR</a>, <a class="el" href="fb__eeprom_8h.html#a27e2dbb193fe9e6cfbf74e9103117fcf">BASE_ADDRESS_OFFSET</a>, and <a class="el" href="fb__eeprom_8h.html#a9eb1d517bad2009ea1fcaa3dfb8d87f2">mem_ReadByte()</a>.</p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#ade80ef84f4f14d25a2283b43d9c1a54f">sendExtTelegram()</a>, and <a class="el" href="fb__prot_8c.html#a990a78673785da5bb024bfaf60e0984a">sendTelegram()</a>.</p>

<p><!-- startSectionHeader --><div class="dynheader">
Here is the call graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_cgraph.png" border="0" usemap="#fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_cgraph" alt=""/></div>
<map name="fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_cgraph" id="fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_cgraph">
<area shape="rect" id="node3" href="fb__eeprom_8h.html#a9eb1d517bad2009ea1fcaa3dfb8d87f2" title="Read data from the eeprom cache and return it." alt="" coords="356,5,479,35"/></map>
<!-- endSectionContent --></div>
</p>

<p><!-- startSectionHeader --><div class="dynheader">
Here is the caller graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_icgraph.png" border="0" usemap="#fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_icgraph" alt=""/></div>
<map name="fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_icgraph" id="fb__prot_8h_a313ffcd6f35f6b76ed97d80765dd9faf_icgraph">
<area shape="rect" id="node3" href="fb__prot_8c.html#ade80ef84f4f14d25a2283b43d9c1a54f" title="Send telegram as response to signal current state of the port to other devices." alt="" coords="356,5,487,35"/><area shape="rect" id="node5" href="fb__prot_8c.html#a990a78673785da5bb024bfaf60e0984a" title="Send telegram as response to signal current state of the port to other devices." alt="" coords="365,59,477,88"/><area shape="rect" id="node7" href="fb__in8__app_8c.html#a8d1473313842fe123fec771c086af269" title="Port Function: Jalousie." alt="" coords="536,5,669,35"/><area shape="rect" id="node9" href="fb__in8__app_8c.html#a71a91b98ae9a796dac4ab23c7e3ff6d8" title="Port Function: switch." alt="" coords="540,59,665,88"/><area shape="rect" id="node11" href="fb__relais__app_8c.html#a1f6d9eb16dbc08dfcfac5f8ceb8d7f40" title="processOutputs" alt="" coords="541,112,664,141"/><area shape="rect" id="node13" href="fb__relais__app_8c.html#a30773cfc4105728c9628fca36c8c7c20" title="Function is called if A_GroupValue_Write is received." alt="" coords="719,112,831,141"/></map>
<!-- endSectionContent --></div>
</p>

</div>
</div>
<a class="anchor" id="acfd8ed16024b5854f4953587ab9a4a06"></a><!-- doxytag: member="fb_prot.h::sendExtTelegram" ref="acfd8ed16024b5854f4953587ab9a4a06" args="(uint8_t commObjectNumber, uint8_t value, uint8_t offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT void sendExtTelegram </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>commObjectNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send telegram as response to signal current state of the port to other devices. </p>
<p>Only necessary if ports are switched inside a timer function.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000089">Todo:</a></b></dt><dd>what source address to send if object has several group addresses?</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">commObjectNumber</td><td>which port was switched </td></tr>
    <tr><td class="paramname">value</td><td>1=switched on, 0=switched of </td></tr>
    <tr><td class="paramname">offset</td><td>Definition of offset for response addresses in EEPROM, 0x0C for 8-out </td></tr>
  </table>
  </dd>
</dl>

<p><p>&lt;</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000090">Todo:</a></b></dt><dd>that is application specific code maybe we should move it to another function </dd></dl>
</p>

<p>References <a class="el" href="msg__queue_8h.html#aa3b6fa424df78c0dbbbaa16a7dd32acb">AllocMsgI()</a>, <a class="el" href="structfbus__hdr.html#ad851123f6d3d388bcd224e7da9c22669">fbus_hdr::apci</a>, <a class="el" href="structfbus__hdr.html#ac495b44f58807e4c580231c2ee426bcc">fbus_hdr::ctrl</a>, <a class="el" href="structmsg.html#a4d5d84257dfd217679a22a7d2ff9dd6f">msg::data</a>, <a class="el" href="structfbus__hdr.html#affac3a0c18c2fe2af1aaeccd2596cd5d">fbus_hdr::dest</a>, <a class="el" href="fb__hal_8h.html#af70a4606fe5ce0777a371e0c6c3540fb">fb_hal_txqueue_msg()</a>, <a class="el" href="fb__prot_8h.html#a313ffcd6f35f6b76ed97d80765dd9faf">findRespondGroupAddressByObjectNumber()</a>, <a class="el" href="structmsg.html#a8736cda7667fc6096fc011a0eb957d64">msg::flags</a>, <a class="el" href="structgrp__addr__s.html#a4b12f8b029a5a4a7c86e14fc6e5f9243">grp_addr_s::ga</a>, <a class="el" href="fb__adc_8c.html#aae3c982e005b9e0659d533393720a7f8">grp_addr</a>, <a class="el" href="structmsg.html#a9f80ed48480c54a999ac13700287f880">msg::len</a>, <a class="el" href="fb__eeprom_8h.html#a9eb1d517bad2009ea1fcaa3dfb8d87f2">mem_ReadByte()</a>, <a class="el" href="structfbus__hdr.html#a7fe9afaff390f35dc2dbde5c1adb91f0">fbus_hdr::npci</a>, <a class="el" href="fb__prot_8h.html#a05146ed1759ff141e4e78a9739ff1bdb">PA_ADDRESS_HIGH</a>, <a class="el" href="fb__prot_8h.html#afe14aac8ca24567289c746da1323d3b8">PA_ADDRESS_LOW</a>, <a class="el" href="structmsg.html#a9a24303b4435fd372af8703f37f1d299">msg::repeat</a>, <a class="el" href="structfbus__hdr.html#a60845bb16d8af17fd0b699cde499d7ad">fbus_hdr::src</a>, and <a class="el" href="structfbus__hdr.html#ab011cf810d4a1ed6a2ef9b24121ea737">fbus_hdr::tpci</a>.</p>

<p><!-- startSectionHeader --><div class="dynheader">
Here is the call graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="fb__prot_8h_acfd8ed16024b5854f4953587ab9a4a06_cgraph.png" border="0" usemap="#fb__prot_8h_acfd8ed16024b5854f4953587ab9a4a06_cgraph" alt=""/></div>
<map name="fb__prot_8h_acfd8ed16024b5854f4953587ab9a4a06_cgraph" id="fb__prot_8h_acfd8ed16024b5854f4953587ab9a4a06_cgraph">
<area shape="rect" id="node3" href="msg__queue_8h.html#aa3b6fa424df78c0dbbbaa16a7dd32acb" title="Allocate space for a message and return a pointer to it." alt="" coords="297,5,377,35"/><area shape="rect" id="node5" href="fb__hal_8h.html#af70a4606fe5ce0777a371e0c6c3540fb" title="Queue message for sending." alt="" coords="260,59,415,88"/><area shape="rect" id="node9" href="fb__prot_8h.html#a313ffcd6f35f6b76ed97d80765dd9faf" title="Search through group address list and return the matching position of a group address which is an res..." alt="" coords="188,112,487,141"/><area shape="rect" id="node11" href="fb__eeprom_8h.html#a9eb1d517bad2009ea1fcaa3dfb8d87f2" title="Read data from the eeprom cache and return it." alt="" coords="537,137,660,167"/><area shape="rect" id="node7" href="msg__queue_8h.html#af35d846267d1aaaf1df04c8bff03047e" title="Add a new message to the message queue." alt="" coords="553,59,644,88"/></map>
<!-- endSectionContent --></div>
</p>

</div>
</div>
<a class="anchor" id="a5374dc4335d063166646c8c268f17e92"></a><!-- doxytag: member="fb_prot.h::sendTelegram" ref="a5374dc4335d063166646c8c268f17e92" args="(uint8_t commObjectNumber, uint8_t value, uint8_t offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT void sendTelegram </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>commObjectNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"> <em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Send telegram as response to signal current state of the port to other devices. </p>
<p>Only necessary if ports are switched inside a timer function.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000091">Todo:</a></b></dt><dd>what source address to send if object has several group addresses?</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">commObjectNumber</td><td>which port was switched </td></tr>
    <tr><td class="paramname">value</td><td>1=switched on, 0=switched of </td></tr>
    <tr><td class="paramname">offset</td><td>Definition of offset for response addresses in EEPROM, 0x0C for 8-out </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="msg__queue_8h.html#aa3b6fa424df78c0dbbbaa16a7dd32acb">AllocMsgI()</a>, <a class="el" href="structfbus__hdr.html#ad851123f6d3d388bcd224e7da9c22669">fbus_hdr::apci</a>, <a class="el" href="structfbus__hdr.html#ac495b44f58807e4c580231c2ee426bcc">fbus_hdr::ctrl</a>, <a class="el" href="structmsg.html#a4d5d84257dfd217679a22a7d2ff9dd6f">msg::data</a>, <a class="el" href="structfbus__hdr.html#affac3a0c18c2fe2af1aaeccd2596cd5d">fbus_hdr::dest</a>, <a class="el" href="fb__hal_8h.html#af70a4606fe5ce0777a371e0c6c3540fb">fb_hal_txqueue_msg()</a>, <a class="el" href="fb__prot_8h.html#a313ffcd6f35f6b76ed97d80765dd9faf">findRespondGroupAddressByObjectNumber()</a>, <a class="el" href="structmsg.html#a8736cda7667fc6096fc011a0eb957d64">msg::flags</a>, <a class="el" href="structgrp__addr__s.html#a4b12f8b029a5a4a7c86e14fc6e5f9243">grp_addr_s::ga</a>, <a class="el" href="fb__adc_8c.html#aae3c982e005b9e0659d533393720a7f8">grp_addr</a>, <a class="el" href="structmsg.html#a9f80ed48480c54a999ac13700287f880">msg::len</a>, <a class="el" href="fb__eeprom_8h.html#a9eb1d517bad2009ea1fcaa3dfb8d87f2">mem_ReadByte()</a>, <a class="el" href="structfbus__hdr.html#a7fe9afaff390f35dc2dbde5c1adb91f0">fbus_hdr::npci</a>, <a class="el" href="fb__prot_8h.html#a05146ed1759ff141e4e78a9739ff1bdb">PA_ADDRESS_HIGH</a>, <a class="el" href="fb__prot_8h.html#afe14aac8ca24567289c746da1323d3b8">PA_ADDRESS_LOW</a>, <a class="el" href="structmsg.html#a9a24303b4435fd372af8703f37f1d299">msg::repeat</a>, <a class="el" href="structfbus__hdr.html#a60845bb16d8af17fd0b699cde499d7ad">fbus_hdr::src</a>, and <a class="el" href="structfbus__hdr.html#ab011cf810d4a1ed6a2ef9b24121ea737">fbus_hdr::tpci</a>.</p>

<p>Referenced by <a class="el" href="fb__in8__app_8c.html#a8d1473313842fe123fec771c086af269">PortFunc_Jalousie()</a>, <a class="el" href="fb__in8__app_8c.html#a71a91b98ae9a796dac4ab23c7e3ff6d8">PortFunc_Switch()</a>, and <a class="el" href="fb__relais__app_8c.html#a1f6d9eb16dbc08dfcfac5f8ceb8d7f40">processOutputs()</a>.</p>

<p><!-- startSectionHeader --><div class="dynheader">
Here is the call graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="fb__prot_8h_a5374dc4335d063166646c8c268f17e92_cgraph.png" border="0" usemap="#fb__prot_8h_a5374dc4335d063166646c8c268f17e92_cgraph" alt=""/></div>
<map name="fb__prot_8h_a5374dc4335d063166646c8c268f17e92_cgraph" id="fb__prot_8h_a5374dc4335d063166646c8c268f17e92_cgraph">
<area shape="rect" id="node3" href="msg__queue_8h.html#aa3b6fa424df78c0dbbbaa16a7dd32acb" title="Allocate space for a message and return a pointer to it." alt="" coords="276,5,356,35"/><area shape="rect" id="node5" href="fb__hal_8h.html#af70a4606fe5ce0777a371e0c6c3540fb" title="Queue message for sending." alt="" coords="239,59,393,88"/><area shape="rect" id="node9" href="fb__prot_8h.html#a313ffcd6f35f6b76ed97d80765dd9faf" title="Search through group address list and return the matching position of a group address which is an res..." alt="" coords="167,112,465,141"/><area shape="rect" id="node11" href="fb__eeprom_8h.html#a9eb1d517bad2009ea1fcaa3dfb8d87f2" title="Read data from the eeprom cache and return it." alt="" coords="516,137,639,167"/><area shape="rect" id="node7" href="msg__queue_8h.html#af35d846267d1aaaf1df04c8bff03047e" title="Add a new message to the message queue." alt="" coords="532,59,623,88"/></map>
<!-- endSectionContent --></div>
</p>

<p><!-- startSectionHeader --><div class="dynheader">
Here is the caller graph for this function:<!-- endSectionHeader --></div>
<!-- startSectionSummary --><!-- endSectionSummary --><!-- startSectionContent --><div class="dyncontent">
<div class="center"><img src="fb__prot_8h_a5374dc4335d063166646c8c268f17e92_icgraph.png" border="0" usemap="#fb__prot_8h_a5374dc4335d063166646c8c268f17e92_icgraph" alt=""/></div>
<map name="fb__prot_8h_a5374dc4335d063166646c8c268f17e92_icgraph" id="fb__prot_8h_a5374dc4335d063166646c8c268f17e92_icgraph">
<area shape="rect" id="node3" href="fb__in8__app_8c.html#a8d1473313842fe123fec771c086af269" title="Port Function: Jalousie." alt="" coords="165,5,299,35"/><area shape="rect" id="node5" href="fb__in8__app_8c.html#a71a91b98ae9a796dac4ab23c7e3ff6d8" title="Port Function: switch." alt="" coords="169,59,295,88"/><area shape="rect" id="node7" href="fb__relais__app_8c.html#a1f6d9eb16dbc08dfcfac5f8ceb8d7f40" title="processOutputs" alt="" coords="171,112,293,141"/><area shape="rect" id="node9" href="fb__relais__app_8c.html#a30773cfc4105728c9628fca36c8c7c20" title="Function is called if A_GroupValue_Write is received." alt="" coords="348,112,460,141"/></map>
<!-- endSectionContent --></div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a694e1f79998d52c33dbb7ed4c23ccf57"></a><!-- doxytag: member="fb_prot.h::pa" ref="a694e1f79998d52c33dbb7ed4c23ccf57" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROT_EXT uint16_t <a class="el" href="fb__prot_8h.html#a694e1f79998d52c33dbb7ed4c23ccf57">pa</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the physical adress of the controller </p>

<p>Referenced by <a class="el" href="fb__prot_8c.html#ac3b30c7591e51974ab895440929395c6">A_PhysicalAddress_Write()</a>, <a class="el" href="fb__prot_8c.html#af4f820be8f1240cee6515133062a2e93">check_addr()</a>, <a class="el" href="fb__prot_8c.html#a1ca66f4c62a2c7c7ff2c8ebef64465da">fb_new_msg()</a>, and <a class="el" href="fb__prot_8c.html#a3e2ec796b82409111b3a88a764b17e4b">fbprot_Init()</a>.</p>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Mon Mar 7 2011 10:08:41 for FreeBusAVR by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
